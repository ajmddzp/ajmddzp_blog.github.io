{
    "id": "2601.13494v1",
    "title": "Learning-Augmented Online TRP on a Line",
    "authors": [
        "Swapnil Guragain",
        "Gokarna Sharma"
    ],
    "abstract": "我们在线路在线旅行维修员问题中，结合了近期提出的学习增强框架进行研究，该框架通过机器学习对即将服务的请求进行预测。在原始模型（无预测）中，请求随时间在线路上陆续释放，目标是最小化请求完成时间的总和（或平均值）。原始模型中，任何确定性算法的竞争比下界为$1+\\sqrt{2} > 2.414$，而确定性算法的竞争比上界为4。我们的预测模型涉及对每个请求可能包含误差的预测位置，这些预测在请求到达前已知，但请求的实际到达时间直到其出现时才知晓。我们首先建立了一个竞争比下界为3，该下界同样适用于原始模型。随后，我们设计了一个确定性算法，在预测完美时其竞争比为$(2+\\sqrt{3})\\approx 3.732$。当预测存在误差（最大误差为$δ>0$）时，若已知$δ$，我们的确定性算法的竞争比变为$\\min\\{3.732+4δ,4\\}$。据我们所知，这是学习增强框架下在线旅行维修员问题的首次研究成果。",
    "url": "https://arxiv.org/abs/2601.13494v1",
    "html_url": "https://arxiv.org/html/2601.13494v1",
    "html_content": "Learning-Augmented Online TRP on a Line\nSwapnil Guragain and Gokarna Sharma\nKent State University\n{sguragai, gsharma2}@kent.edu\nAbstract\nWe study the online traveling repairperson problem on a line within the recently proposed learning-augmented framework, which provides predictions on the requests to be served via machine learning. In the original model (with no predictions), there is a stream of requests released over time along the line. The goal is to minimize the sum (or average) of the completion times of the requests.\nIn the original model, the state-of-the-art competitive ratio lower bound is\n1\n+\n2\n>\n2.414\n1+\\sqrt{2}>2.414\nfor any deterministic algorithm and the state-of-the-art competitive ratio upper bound is 4 for a deterministic algorithm. Our prediction model involves predicted positions, possibly error-prone, of each request in the stream known a priori but the arrival times of requests are not known until their arrival.\nWe first establish a 3-competitive lower bound which extends to the original model.\nWe then design a deterministic algorithm that is\n(\n2\n+\n3\n)\n≈\n3.732\n(2+\\sqrt{3})\\approx 3.732\n-competitive when predictions are perfect. With imperfect predictions (maximum error\nδ\n>\n0\n\\delta>0\n), we show that our deterministic algorithm becomes\nmin\n⁡\n{\n3.732\n+\n4\n​\nδ\n,\n4\n}\n\\min\\{3.732+4\\delta,4\\}\n-competitive, knowing\nδ\n\\delta\n. To the best of our knowledge, these are the first results for online traveling repairperson problem in the learning-augmented framework.\n1\nIntroduction\nWe consider the\nonline\nvariant of the fundamental\ntraveling repairperson problem\n(TRP). We solve online TRP on a real line\nℒ\n\\mathcal{L}\nof length\n|\nℒ\n|\n|\\mathcal{L}|\n.\nThe input is a stream of requests released over time along the points on\nℒ\n\\mathcal{L}\n. The goal in TRP is to minimize the sum (or average) of the completion times of the requests, in contrast to\ntraveling salesperson problem\n(TSP) where the goal is to minimize the maximum completion time (or makespan). TRP facilitates quickly serving each request rather than TSP which minimizes the maximum time to serve any request.\nTRP has a variety of relevant applications in logistics and robotics. Consider for an example a salesman/repairman/vehicle/robot (denoted as\nserver\nin this paper) that has to serve locations on its workspace.\nIf the server’s workspace is a road/highway segment, then it resembles a line and our results can apply to such application. The algorithm we design will run by the server to serve requests.\nOnline TRP has been studied quite extensively on the\noriginal\nmodel where locations of the requests as well as their arrival times are not known until they arrive; we will define competitive ratio formally later. In this paper, we study online TRP considering a stronger\nprediction\nmodel within the recently proposed learning-augmented framework\nLykouris and Vassilvitskii (\n2018\n); Rohatgi (\n2020\n); Kumar\net al.\n(\n2018\n)\n(Table\n1\ncompares original and prediction models). The prediction model provides some knowledge on problem beforehand through some external source as considered in the learning-augmented framework. The external source can be a machine learning approach running over the historical data relevant to the problem. Specifically, we consider the prediction model that involves predictions on the\nlocations\nas considered in\nGouleakis\net al.\n(\n2023\n)\nwhere requests will arrive over time. Notice that in the original model (no predictions), no such knowledge is provided to the online algorithm\nO\n​\nN\nON\n. In our prediction model,\nO\n​\nN\nON\nis provided beforehand with the predicted locations of the future requests.\nModel\nCharacteristic\nOriginal\nRequests arriving at time\nt\nt\nare known at\nt\nt\nPrediction\nAll request locations are known beforehand\nbut not time\nt\nt\nthe requests arrive\nTable 1:\nComparing original and prediction models.\nOnline TSP, where the goal is minimize the maximum completion time, has been studied on a line in the prediction model we discussed above\nGouleakis\net al.\n(\n2023\n)\n.\nHowever, to the best of our knowledge, there is no previous study on online TRP in the prediction model even on a line. This paper is the first attempt on online TRP in the prediction model on a line as in\nGouleakis\net al.\n(\n2023\n)\n.\nPaper\nCompetitive Ratio\nModel\nFeuerstein and Stougie\n(\n2001\n)\n1\n+\n2\n≈\n2.414\n1+\\sqrt{2}\\approx 2.414\nOriginal\nThis paper\n3\n3\nOriginal\nTable 2:\nDeterministic online TRP lower bounds on a line.\nOur Results.\nWe have the following four results. We say that the prediction is\nperfect\nif the request predicted to arrive at a location actually arrives at that location. The prediction is called\nimperfect\notherwise with parameter\n0\n≤\nδ\n≤\n1\n0\\leq\\delta\\leq 1\ndenoting the amount of prediction error. We say that line\nℒ\n\\mathcal{L}\nis a\nhalf-line\nif servers’ location is at its either end.\n•\nWe establish that no deterministic algorithm can achieve 3 competitive ratio on a line in our prediction model even under perfect predictions. Interestingly, this lower bound applies to the original model since our prediction model makes the problem stronger. (\nSection\n3\n)\n•\nWe develop a deterministic algorithm with a competitive ratio upper bound of\n2\n+\n3\n≈\n3.732\n2+\\sqrt{3}\\approx 3.732\non a half-line in the original model. This bound extends to our prediction model with any prediction error\n0\n≤\nδ\n≤\n1\n0\\leq\\delta\\leq 1\n.\n(\nSection\n4\n)\n•\nIn our prediction model with perfect predictions, we develop a deterministic algorithm with competitive ratio\n2\n+\n3\n≈\n3.732\n2+\\sqrt{3}\\approx 3.732\non a line. (\nSection\n5\n)\n•\nIn our prediction model with imperfect predictions (error\nδ\n>\n0\n\\delta>0\n), we give a deterministic\nmin\n⁡\n{\n3.732\n+\n4\n​\nδ\n,\n4\n}\n\\min\\{3.732+4\\delta,4\\}\n-competitive algorithm, knowing\nδ\n\\delta\n. (\nSection\n6\n)\nTables\n2\nand\n3\nsummarize the existing results in the original model as well as our results in the prediction model.\nRelated Work.\nAll existing results on online TRP are in the original model.\nFeuerstein and Stougie (\n2001\n)\nestablished the only previously known competitive lower bound of\n1\n+\n2\n≈\n2.414\n1+\\sqrt{2}\\approx 2.414\nfor online TRP, which is the state-of-the-art. This lower bound applies to any metric that satisfies triangle inequality (line is a special case).\nWe provide in this paper the improved competitive lower bound of 3 in a line (more precisely a half-line) which will also serve as a lower bound for any metric satisfying triangle inequality.\nRegarding the upper bound,\nFeuerstein and Stougie (\n2001\n)\nprovided the first solution to online TRP on a line, which is a\n9\n9\n-competitive deterministic algorithm.\nKrumke\net al.\n(\n2003\n)\nobtained a\n(\n1\n+\n2\n)\n2\n≈\n5.8285\n(1+\\sqrt{2})^{2}\\approx 5.8285\nin any metric which applies to line.\nBienkowski and Liu (\n2019\n)\nprovided a\n5.429\n5.429\n-competitive deterministic algorithm on a line.\nHwang and Jaillet (\n2017\n)\ngive a\n5.14\n5.14\n-competitive algorithm in any metric which applies to a line. The state-of-the-art is the 4-competitive deterministic algorithm in any metric due to\nBienkowski\net al.\n(\n2021\n)\n.\n2\nModel, Definitions, and Notations\nModel.\nWe consider a single server initially located at a fixed distinguished location on\nℒ\n\\mathcal{L}\n, which we call\norigin\no\no\n.\nThe execution starts at time\n0\nand time proceeds in discrete time steps. The requests arrive at discrete time steps on any location on\nℒ\n\\mathcal{L}\n. Any number of requests may arrive at any time step.\nEach request\nis communicated to the server as soon as it arrives, i.e., a request\nr\ni\nr_{i}\nwith\narrival time\nt\ni\nt_{i}\ncoming at some location\np\ni\np_{i}\non\nℒ\n\\mathcal{L}\nis known by the server at time\nt\ni\nt_{i}\n.\nServer serves requests traversing\nℒ\n\\mathcal{L}\nstarting from origin\no\no\n.\nRequest\nr\ni\nr_{i}\nis considered served when the server reaches the location\np\ni\np_{i}\nthe first time while traversing\nℒ\n\\mathcal{L}\n. If server reaches\np\ni\np_{i}\nthe first time at time\nt\ni\n′\nt_{i}^{\\prime}\n, then\nt\ni\n′\nt_{i}^{\\prime}\nis the\ncompletion time\nfor\nr\ni\nr_{i}\n.\nPerformance Metric – Sum of Completion Times.\nWe consider\nn\n≥\n1\nn\\geq 1\nrequests (\nn\nn\nis not known to the server a priori)\nℛ\n:=\n{\nr\n1\n,\n…\n,\nr\nn\n}\n\\mathcal{R}:=\\{r_{1},\\ldots,r_{n}\\}\n. Let the server runs the online algorithm\nO\n​\nN\nON\nto decide on how to serve the requests. Let\nO\n​\nN\n​\n(\nℛ\n)\n=\n∑\ni\n=\n1\nn\nt\ni\n′\nON(\\mathcal{R})=\\sum_{i=1}^{n}t_{i}^{\\prime}\ndenote the sum of the completion times of the requests in\nℛ\n\\mathcal{R}\n.\nCompetitive Ratio.\nWe measure the efficiency of\nO\n​\nN\nON\nby comparing its performance with the performance of the optimal offline algorithm\nO\n​\nP\n​\nT\nOPT\nprovided all the requests in\nℛ\n\\mathcal{R}\narrive at time\nt\n=\n0\nt=0\n. Let\nO\n​\nP\n​\nT\n​\n(\nℛ\n)\nOPT(\\mathcal{R})\nbe the sum of completion times of\nO\n​\nP\n​\nT\nOPT\n. We have that\nO\n​\nP\n​\nT\n​\n(\nℛ\n)\n≥\n|\nO\n​\nP\n​\nT\n​\n_\n​\nT\n​\nO\n​\nU\n​\nR\n|\nOPT(\\mathcal{R})\\geq|OPT\\_TOUR|\n, where\nO\n​\nP\n​\nT\n​\n_\n​\nT\n​\nO\n​\nU\n​\nR\nOPT\\_TOUR\nis the tour computed by\nO\n​\nP\n​\nT\nOPT\nthat minimizes the completion time for each request in\nℛ\n\\mathcal{R}\n.\nIn online TRP, request\nr\ni\nr_{i}\nwith arrival time\nt\ni\nt_{i}\ncannot be served before\nt\ni\nt_{i}\n, i.e.,\nO\n​\nP\n​\nT\n​\n(\nℛ\n)\n≥\n∑\ni\n=\n1\nn\nt\ni\nOPT(\\mathcal{R})\\geq\\sum_{i=1}^{n}t_{i}\n.\nTherefore, the goal is to minimize the ratio\nO\n​\nN\n​\n(\nℛ\n)\nO\n​\nP\n​\nT\n​\n(\nℛ\n)\n=\n∑\ni\n=\n1\nn\nt\ni\n′\nmax\n⁡\n{\n|\nO\n​\nP\n​\nT\n​\n_\n​\nT\n​\no\n​\nu\n​\nr\n|\n,\n∑\ni\n=\n1\nn\nt\ni\n}\n\\frac{ON(\\mathcal{R})}{OPT(\\mathcal{R})}=\\frac{\\sum_{i=1}^{n}t_{i}^{\\prime}}{\\max\\{|OPT\\_Tour|,\\sum_{i=1}^{n}t_{i}\\}}\nwhich is called the\ncompetitive ratio\nin the field of online algorithm design\nBorodin and El-Yaniv (\n1998\n)\n. The best possible ratio is 1. The above ratio can be written for each request\nr\ni\nr_{i}\nas\nO\n​\nN\n​\n(\nr\ni\n)\nO\n​\nP\n​\nT\n​\n(\nr\ni\n)\n=\nt\ni\n′\nmax\n⁡\n{\n|\nO\n​\nP\n​\nT\n​\n_\n​\nT\n​\no\n​\nu\n​\nr\ni\n|\n,\nt\ni\n}\n,\n\\frac{ON(r_{i})}{OPT(r_{i})}=\\frac{t_{i}^{\\prime}}{\\max\\{|OPT\\_Tour_{i}|,t_{i}\\}},\nwhere\n|\nO\n​\nP\n​\nT\n​\n_\n​\nT\n​\nO\n​\nU\n​\nR\ni\n|\n|OPT\\_TOUR_{i}|\nis the tour length of\nO\n​\nP\n​\nT\n​\n_\n​\nT\n​\nO\n​\nU\n​\nR\nOPT\\_TOUR\nuntil\nr\ni\nr_{i}\nis served. Minimizing\nO\n​\nN\n​\n(\nr\ni\n)\nO\n​\nP\n​\nT\n​\n(\nr\ni\n)\n\\frac{ON(r_{i})}{OPT(r_{i})}\nfor each individual request\nr\ni\nr_{i}\nminimizes\nO\n​\nN\n​\n(\nℛ\n)\nO\n​\nP\n​\nT\n​\n(\nℛ\n)\n\\frac{ON(\\mathcal{R})}{OPT(\\mathcal{R})}\nfor all requests in\nℛ\n\\mathcal{R}\n. Therefore, in this paper, we strive to minimize individual ratio\nO\n​\nN\n​\n(\nr\ni\n)\nO\n​\nP\n​\nT\n​\n(\nr\ni\n)\n\\frac{ON(r_{i})}{OPT(r_{i})}\n.\nAlgorithm\nCompetitive Ratio\nModel\nFeuerstein and Stougie\n(\n2001\n)\n9\nOriginal\nKrumke\net al.\n(\n2003\n)\n3\n+\n2\n​\n2\n≈\n5.83\n3+2\\sqrt{2}\\approx 5.83\nOriginal\nBienkowski and Liu\n(\n2019\n)\n5.429\n5.429\nOriginal\nHwang and Jaillet\n(\n2017\n)\n5.14\n5.14\nOriginal\nBienkowski\net al.\n(\n2021\n)\n4\nOriginal\nThis paper,\nδ\n=\n0\n\\delta=0\n2\n+\n3\n≈\n3.732\n2+\\sqrt{3}\\approx 3.732\nPrediction\nThis paper, known\nδ\n>\n0\n\\delta>0\nmin\n⁡\n{\n3.732\n+\n4\n​\nδ\n,\n4\n}\n\\min\\{3.732+4\\delta,4\\}\nPrediction\nTable 3:\nDeterministic online TRP solutions on a line.\nLine and Half-Line.\nLet the endpoints of\nℒ\n\\mathcal{L}\nbe\na\n,\nb\na,b\n.\nThe origin\no\n∈\nℒ\no\\in\\mathcal{L}\n. We measure distance on\nℒ\n\\mathcal{L}\nfrom\no\no\n, i.e., point\na\na\n(\nb\nb\n) is at distance\n|\na\n|\n|a|\n(\n|\nb\n|\n|b|\n). Let us denote by\nℒ\nr\n​\ni\n​\ng\n​\nh\n​\nt\n\\mathcal{L}_{right}\n(\nℒ\nl\n​\ne\n​\nf\n​\nt\n\\mathcal{L}_{left}\n) the part of\nℒ\n\\mathcal{L}\nthat is on the right (left) of\no\no\n. Let\nx\nx\n(\ny\ny\n) be a point on\nℒ\nl\n​\ne\n​\nf\n​\nt\n\\mathcal{L}_{left}\n(\nℒ\nr\n​\ni\n​\ng\n​\nh\n​\nt\n\\mathcal{L}_{right}\n). We denote by\n[\nx\n,\ny\n]\n[x,y]\nthe segment of\nℒ\n\\mathcal{L}\nbetween\nx\nx\nand\ny\ny\n(inclusive).\nWe call\nℒ\n\\mathcal{L}\nhalf-line when origin\no\no\nis either\na\na\nor\nb\nb\n, that is,\nℒ\n\\mathcal{L}\nis either only\nℒ\nr\n​\ni\n​\ng\n​\nh\n​\nt\n\\mathcal{L}_{right}\nor only\nℒ\nl\n​\ne\n​\nf\n​\nt\n\\mathcal{L}_{left}\n.\nPrediction Model.\nWe denote a request\nr\ni\n∈\nℛ\nr_{i}\\in\\mathcal{R}\nby a triple\n(\na\ni\nl\n​\no\n​\nc\n,\np\ni\nl\n​\no\n​\nc\n,\nt\ni\n)\n(a_{i}^{loc},p_{i}^{loc},t_{i})\n, where\na\ni\nl\n​\no\n​\nc\na_{i}^{loc}\nis the actual point on\nℒ\n\\mathcal{L}\nit arrives,\np\ni\nl\n​\no\n​\nc\np_{i}^{loc}\nis the predicted point on\nℒ\n\\mathcal{L}\nit arrives, and\nt\ni\nt_{i}\nis the actual time it arrives.\nIn our prediction model, the predicted location\np\ni\nl\n​\no\n​\nc\np_{i}^{loc}\nof each request\nr\ni\nr_{i}\nis known beforehand but not\na\ni\nl\n​\no\n​\nc\na_{i}^{loc}\nand\nt\ni\nt_{i}\nuntil\nr\ni\nr_{i}\narrives at\nt\ni\nt_{i}\n. With\nprefect\npredictions,\na\ni\nl\n​\no\n​\nc\n=\np\ni\nl\n​\no\n​\nc\na_{i}^{loc}=p_{i}^{loc}\n, i.e.,\nr\ni\nr_{i}\narrives at the predicted location. In the original model, there is no notion of\np\ni\nl\n​\no\n​\nc\np_{i}^{loc}\nknown beforehand, i.e., request\nr\ni\nr_{i}\nis known only when it comes at\nt\ni\nt_{i}\nat location\na\ni\nl\n​\no\n​\nc\na_{i}^{loc}\n.\nPrediction Error.\nWe denote by\nΔ\n\\Delta\nthe error in prediction. It is measured based on predicted and actual locations of each request\nr\ni\nr_{i}\n. For\nr\ni\nr_{i}\n, the error on prediction\nΔ\ni\n=\n|\na\ni\nl\n​\no\n​\nc\n−\np\ni\nl\n​\no\n​\nc\n|\n\\Delta_{i}=|a_{i}^{loc}-p_{i}^{loc}|\n. For\nℛ\n\\mathcal{R}\n, we denote by\nΔ\n\\Delta\nthe maximum error on prediction, i.e.,\nΔ\n:=\nmax\ni\n=\n1\nn\n⁡\nΔ\ni\n\\Delta:=\\max_{i=1}^{n}\\Delta_{i}\n. Notice that\nΔ\n≤\n|\nℒ\n|\n\\Delta\\leq|\\mathcal{L}|\n, i.e., the error on prediction cannot be more than\n|\nℒ\n|\n|\\mathcal{L}|\nsince each request in\nℛ\n\\mathcal{R}\narrive on\nℒ\n\\mathcal{L}\n(\na\n,\nb\na,b\ninclusive). Therefore, we can use\nδ\n\\delta\nas the error ratio parameter giving the amount of error w.r.t.\n|\nℒ\n|\n|\\mathcal{L}|\n, i.e.,\n0\n≤\nδ\n=\nΔ\n|\nℒ\n|\n≤\n1\n0\\leq\\delta=\\frac{\\Delta}{|\\mathcal{L}|}\\leq 1\n.\nδ\n=\n0\n\\delta=0\ndenotes perfect prediction and\nδ\n=\n1\n\\delta=1\ndenotes worst-case prediction error. Given\nδ\n\\delta\n,\nΔ\n\\Delta\ncan be computed, and vice-versa, given known\n|\nℒ\n|\n|\\mathcal{L}|\n.\nFigure 1:\nThe lower bound construction on a half-line\nℒ\n\\mathcal{L}\nwith\n|\nℒ\n|\n=\n10\n|\\mathcal{L}|=10\n. The request locations are shown. The 8 requests at 1, 4–10 arrive at time\nt\n=\n0\nt=0\n. The 3 remaining requests arrive over time.\n3\n3-Competitive Lower Bound\nOur 3-competitive lower bound is strong compared to the state-of-the-art\n1\n+\n2\n≈\n2.414\n1+\\sqrt{2}\\approx 2.414\nFeuerstein and Stougie (\n2001\n)\n. We establish our lower bound\nconsidering\nℒ\n\\mathcal{L}\nbeing half-line, and hence applies to any metric satisfying triangle inequality. We construct an adversarial input\nℛ\n\\mathcal{R}\non half-line\nℒ\n\\mathcal{L}\nsuch that no deterministic algorithm can satisfy ratio\nO\n​\nN\n​\n(\nr\ni\n)\nO\n​\nP\n​\nT\n​\n(\nr\ni\n)\n\\frac{ON(r_{i})}{OPT(r_{i})}\nless than 3 for at least a request\nr\ni\nr_{i}\nin the prediction model even with perfect predictions.\nSince the original model does not have predictions, the lower bound applies to the original model. In particular, we prove the following theorem.\nTheorem 1\n(\nlower bound).\nThe exists an input\nℛ\n\\mathcal{R}\nfor which no deterministic algorithm can achieve 3-competitive ratio for online TRP in the prediction model.\nProof.\nFor a deterministic algorithm\nO\n​\nN\nON\nto be 3-competitive, we need to guarantee\nO\n​\nN\n​\n(\nr\ni\n)\nO\n​\nP\n​\nT\n​\n(\nr\ni\n)\n≤\n3\n\\frac{ON(r_{i})}{OPT(r_{i})}\\leq 3\nfor each request\nr\ni\n∈\nℛ\nr_{i}\\in\\mathcal{R}\n.\nSuppose\nr\ni\nr_{i}\narrives at time\nt\ni\nt_{i}\non location\np\ni\n∈\nℒ\np_{i}\\in\\mathcal{L}\nwith distance\nl\ni\nl_{i}\nfrom\no\no\n.\nO\n​\nP\n​\nT\n​\n(\nr\ni\n)\n≥\nmax\n⁡\n{\nt\ni\n,\nl\ni\n}\nOPT(r_{i})\\geq\\max\\{t_{i},l_{i}\\}\n.\nWe consider 11 requests in\nℛ\n\\mathcal{R}\nwith 8 predicted locations at distance\n1\n,\n4\n,\n5\n,\n…\n,\n10\n1,4,5,\\ldots,{10}\nfrom\no\no\nand 3 predicted locations at distance\nϵ\ni\n<<\n1\n\\epsilon_{i}<<1\nfrom\no\no\n. We assume that the locations are known at time\nt\n=\n0\nt=0\n(see Fig.\n1\n).\nLet\nO\n​\nN\nON\nbe a deterministic algorithm to serve the requests that arrive on the predicted locations. We assume that, at time step\nt\n=\n0\nt=0\n, a request each arrives at\n1\n,\n4\n,\n5\n,\n…\n,\n10\n1,4,5,\\ldots,10\n.\nWe denote the requests by\nr\ni\nr_{i}\n, where\ni\ni\nis the location, i.e., for the request arriving at 4, we denote it by\nr\n4\nr_{4}\n.\nWe will release requests at locations\nϵ\ni\n\\epsilon_{i}\nover time. For\nO\n​\nN\nON\nto guarantee 3-competitive ratio, the requests at\n1\n,\n4\n,\n5\n,\n…\n,\n10\n1,4,5,\\ldots,{10}\nmust be served by time step\n3\n,\n12\n,\n15\n,\n18\n,\n21\n,\n24\n,\n27\n,\n30\n3,12,15,18,21,24,27,30\n. We will show that there is at least a request among\n{\nr\n1\n,\nr\n4\n,\nr\n5\n,\n…\n,\nr\n10\n}\n\\{r_{1},r_{4},r_{5},\\ldots,r_{10}\\}\nfor which\nO\n​\nN\n​\n(\nr\ni\n)\nO\n​\nP\n​\nT\n​\n(\nr\ni\n)\n>\n3\n\\frac{ON(r_{i})}{OPT(r_{i})}>3\nfor any deterministic algorithm\nO\n​\nN\nON\n.\nWe consider four cases, Case 1–4, based on whether\nO\n​\nN\nON\nwaits at origin\no\no\nand, if so, how many time steps.\n•\nCase 1.\nO\n​\nN\nON\ndoes not wait at\no\no\n:\nO\n​\nN\nON\nserves\nr\n1\nr_{1}\n(the request at distance 1) at step 1. We release\nr\nϵ\n1\nr_{\\epsilon_{1}}\nat step 1. To have\nO\n​\nN\n​\n(\nr\nϵ\n1\n)\nO\n​\nP\n​\nT\n​\n(\nr\nϵ\n1\n)\n≤\n3\n\\frac{ON(r_{\\epsilon_{1}})}{OPT(r_{\\epsilon_{1}})}\\leq 3\n,\nr\nϵ\n1\nr_{\\epsilon_{1}}\nneeds to be served by step 3. Since\nO\n​\nN\nON\nis at\n1\n1\n, and need to reach\nϵ\n1\n\\epsilon_{1}\nby step 3, we have the following.\n–\nCase 1.A\nO\n​\nN\nON\nserves\nr\nϵ\n1\nr_{\\epsilon_{1}}\nat step 2:\nAfter serving\nr\nϵ\n1\nr_{\\epsilon_{1}}\n,\nO\n​\nL\nOL\nhas two choices: stay at\nϵ\n1\n{\\epsilon_{1}}\nor leave.\nUntil\nO\n​\nN\nON\nstays at\nϵ\n1\n{\\epsilon_{1}}\n, we do not release any new request. Let\ns\n>\n2\ns>2\nbe the step at which\nO\n​\nN\nON\nreaches\n1\n1\nleaving\nϵ\n1\n{\\epsilon_{1}}\n. We release\nr\nϵ\n2\nr_{\\epsilon_{2}}\nat step\ns\ns\n. Notice that\ns\ns\nmust be\n≤\n9\n\\leq 9\nsince otherwise\nr\n4\nr_{4}\nis not reached by step 12.\nO\n​\nN\nON\nhas two choices,\n*\nCase 1.A.i\nO\n​\nN\nON\nserves\nr\nϵ\n2\nr_{\\epsilon_{2}}\nat step\ns\n+\n1\ns+1\nWe do not release any new request until\nO\n​\nN\nON\nstays at\nϵ\n2\n{\\epsilon_{2}}\nafter serving\nr\nϵ\n2\nr_{\\epsilon_{2}}\n. Let\ns\n′\n>\ns\n+\n2\ns^{\\prime}>s+2\nbe the step at which\nO\n​\nN\nON\nreaches\n1\n1\nleaving\nϵ\n2\n{\\epsilon_{2}}\n. We release\nr\nϵ\n3\nr_{\\epsilon_{3}}\nat step\ns\n′\ns^{\\prime}\n. Notice that\ns\n′\ns^{\\prime}\nmust be\n≤\n9\n\\leq 9\nsince otherwise\nr\n4\nr_{4}\nis not reached by step 12.\n*\nCase 1.A.ii\nO\n​\nN\nON\nserves\nr\n4\n,\nr\n5\n,\n…\nr_{4},r_{5},\\ldots\nand returns to\nr\nϵ\n2\nr_{\\epsilon_{2}}\nby step\n3\n​\ns\n3s\n.\nSince\ns\n,\ns\n′\n≤\n9\ns,s^{\\prime}\\leq 9\n,\nO\n​\nN\nON\ncan only visit up to\nr\ns\nr_{s}\n(\nr\ns\n′\nr_{s^{\\prime}}\n) to return to\nϵ\n2\n{\\epsilon_{2}}\nby step\n3\n​\ns\n3s\n(\n3\n​\ns\n′\n3s^{\\prime}\n). If doing so,\nr\ns\n+\n1\nr_{s+1}\n(\nr\ns\n′\n+\n1\nr_{s^{\\prime}+1}\n) takes at least\n3\n​\ns\n+\ns\n+\n1\n3s+s+1\n(\n3\n​\ns\n′\n+\ns\n′\n+\n1\n3s^{\\prime}+s^{\\prime}+1\n) steps to be served, giving\nO\n​\nN\n​\n(\nr\ns\n+\n1\n)\nO\n​\nP\n​\nT\n​\n(\nr\ns\n+\n1\n)\n>\n3\n\\frac{ON(r_{s+1})}{OPT(r_{s+1})}>3\n(\nO\n​\nN\n​\n(\nr\ns\n′\n+\n1\n)\nO\n​\nP\n​\nT\n​\n(\nr\ns\n′\n+\n1\n)\n>\n3\n\\frac{ON(r_{s^{\\prime}+1})}{OPT(r_{s^{\\prime}+1})}>3\n). If\nO\n​\nN\nON\nreturns after visiting\nr\ns\n+\n1\nr_{s+1}\n(\nr\ns\n′\n+\n1\nr_{s^{\\prime}+1}\n) , then\nr\nϵ\n2\nr_{\\epsilon_{2}}\nis not served before step\n3\n​\ns\n+\n1\n3s+1\n(\n3\n​\ns\n′\n+\n1\n3s^{\\prime}+1\n), giving\nO\n​\nN\n​\n(\nr\nϵ\n2\n)\nO\n​\nP\n​\nT\n​\n(\nr\nϵ\n2\n)\n>\n3\n\\frac{ON(r_{\\epsilon_{2}})}{OPT(r_{\\epsilon_{2}})}>3\n.\n–\nCase 1.B\nO\n​\nN\nON\nwaits at\n1\n1\nuntil step 2 and serves\nr\nϵ\n1\nr_{\\epsilon_{1}}\nat step 3:\nAfter serving\nr\nϵ\n1\nr_{\\epsilon_{1}}\n,\nO\n​\nN\nON\nhas two choices as in Case 1.A. Until\nO\n​\nN\nON\nstays at\nϵ\n1\n{\\epsilon_{1}}\n, we do not release any new request. We know that\nO\n​\nN\nON\nmust leave\nϵ\n1\n{\\epsilon_{1}}\nand reach\n1\n1\nby step\n4\n≤\ns\n≤\n9\n4\\leq s\\leq 9\nto serve\nr\n4\nr_{4}\nby time step 12. We release\nr\nϵ\n2\nr_{\\epsilon_{2}}\nat step\ns\ns\n. Then either Case 1.A.i or Case 1.A.ii applies.\n–\nCase 1.C\nO\n​\nN\nON\nwaits at\n1\n1\nuntil step 3 or\nO\n​\nN\nON\ngoes to\n2\n2\nat step 2 and returns to\nϵ\n1\n{\\epsilon_{1}}\nby step 4:\nWe have that\nO\n​\nN\n​\n(\nr\n1\n)\nO\n​\nP\n​\nT\n​\n(\nr\n1\n)\n>\n3\n\\frac{ON(r_{1})}{OPT(r_{1})}>3\nand we are done.\n•\nCase 2\nO\n​\nN\nON\nwaits at\no\no\nfor 1 time step:\nr\n1\nr_{1}\nis served at step 2. We release\nr\nϵ\n1\nr_{\\epsilon_{1}}\nat step 2.\nO\n​\nN\nON\nmust serve\nr\nϵ\n1\nr_{\\epsilon_{1}}\nby step 6 to guarantee\nO\n​\nN\n​\n(\nr\nϵ\n1\n)\nO\n​\nP\n​\nT\n​\n(\nr\nϵ\n1\n)\n≤\n3\n\\frac{ON(r_{\\epsilon_{1}})}{OPT(r_{\\epsilon_{1}})}\\leq 3\n.\nO\n​\nN\nON\nhas the following choices:\n–\nCase 2.A\nO\n​\nN\nON\nserves\nr\nϵ\n1\nr_{\\epsilon_{1}}\nat step 3, 4, 5, or 6 (waiting 0, 1, 2, 3 steps at\n1\n1\n):\nWe do not release any new request until\nr\nϵ\n1\nr_{\\epsilon_{1}}\nis served and\nO\n​\nN\nON\nreturns to\n1\n1\n. Suppose\nO\n​\nN\nON\nreturns to\n1\n1\nat\n4\n≤\ns\n≤\n7\n4\\leq s\\leq 7\nafter serving\nr\nϵ\n1\nr_{\\epsilon_{1}}\nin any step\n[\n3\n,\ns\n−\n1\n]\n[3,s-1]\n. We release\nr\nϵ\n2\nr_{\\epsilon_{2}}\nat step\ns\ns\nwhich must be served by\n3\n​\ns\n3s\n. Again\nO\n​\nN\nON\nhas two choices.\n*\nCase 2.A.i\nO\n​\nN\nON\nserves\nr\nϵ\n2\nr_{\\epsilon_{2}}\nat step\ns\n+\n1\ns+1\n:\nWe do not release any new request until\nO\n​\nN\nON\nstays at\nϵ\n2\n{\\epsilon_{2}}\nafter serving\nr\nϵ\n2\nr_{\\epsilon_{2}}\n. Let\ns\n′\n≥\ns\n+\n2\ns^{\\prime}\\geq s+2\nbe the step at which\nO\n​\nN\nON\nreaches\n1\n1\nleaving\nϵ\n2\n{\\epsilon_{2}}\n. We release\nr\nϵ\n3\nr_{\\epsilon_{3}}\nat step\ns\n′\ns^{\\prime}\n. Notice that\ns\n′\n≤\n9\ns^{\\prime}\\leq 9\nsince otherwise\nr\n4\nr_{4}\nis not reached by step 12.\n*\nCase 2.A.ii\nO\n​\nN\nON\nserves\nr\n4\n,\nr\n5\n,\n…\nr_{4},r_{5},\\ldots\nand returns to\nϵ\n2\n{\\epsilon_{2}}\nby step\n3\n​\ns\n3s\n.\nSince\ns\n,\ns\n′\n≤\n7\ns,s^{\\prime}\\leq 7\n,\nO\n​\nN\nON\ncan only visit up to\nr\ns\nr_{s}\n(\nr\ns\n′\nr_{s^{\\prime}}\n) to return to\nϵ\n2\n{\\epsilon_{2}}\nby step\n3\n​\ns\n3s\n(\n3\n​\ns\n′\n3s^{\\prime}\n). If doing so,\nr\ns\n+\n1\nr_{s+1}\n(\nr\ns\n′\n+\n1\nr_{s^{\\prime}+1}\n) takes at least\n3\n​\ns\n+\ns\n+\n1\n3s+s+1\n(\n3\n​\ns\n′\n+\ns\n′\n+\n1\n3s^{\\prime}+s^{\\prime}+1\n) steps to be served, giving\nO\n​\nN\n​\n(\nr\ns\n+\n1\n)\nO\n​\nP\n​\nT\n​\n(\nr\ns\n+\n1\n)\n>\n3\n\\frac{ON(r_{s+1})}{OPT(r_{s+1})}>3\n(\nO\n​\nN\n​\n(\nr\ns\n′\n+\n1\n)\nO\n​\nP\n​\nT\n​\n(\nr\ns\n′\n+\n1\n)\n>\n3\n\\frac{ON(r_{s^{\\prime}+1})}{OPT(r_{s^{\\prime}+1})}>3\n). If\nO\n​\nN\nON\nreturns after visiting\nr\ns\n+\n1\nr_{s+1}\n(\nr\ns\n′\n+\n1\nr_{s^{\\prime}+1}\n), then\nr\nϵ\n2\nr_{\\epsilon_{2}}\nis not served before step\n3\n​\ns\n+\n1\n3s+1\n(\n3\n​\ns\n′\n+\n1\n3s^{\\prime}+1\n), giving\nO\n​\nN\n​\n(\nr\nϵ\n2\n)\nO\n​\nP\n​\nT\n​\n(\nr\nϵ\n2\n)\n>\n3\n\\frac{ON(r_{\\epsilon_{2}})}{OPT(r_{\\epsilon_{2}})}>3\n.\n–\nCase 2.B\nO\n​\nN\nON\nattempts to serve\nr\n4\nr_{4}\nand then\nr\nϵ\n1\nr_{\\epsilon_{1}}\n:\nr\nϵ\n1\nr_{\\epsilon_{1}}\ncannot be served by step 6 if\nr\n4\nr_{4}\nis served.\n•\nCase 3\nO\n​\nN\nON\nwaits at\no\no\nfor 2 steps:\nr\n1\nr_{1}\nis served at step 3. We release\nr\nϵ\n1\nr_{\\epsilon_{1}}\nat step 3 which needs to be served by step 9 for\nO\n​\nN\n​\n(\nr\nϵ\n1\n)\nO\n​\nP\n​\nT\n​\n(\nr\nϵ\n1\n)\n≤\n3\n\\frac{ON(r_{\\epsilon_{1}})}{OPT(r_{\\epsilon_{1}})}\\leq 3\n.\n–\nCase 3.A\nO\n​\nN\nON\nserves\nr\nϵ\n1\nr_{\\epsilon_{1}}\nat step 4, …, 8 (waiting 0, …, 4 steps at\n1\n1\n):\nWe do not release any new request until\nr\nϵ\n1\nr_{\\epsilon_{1}}\nis served and\nO\n​\nN\nON\nreturns to\n1\n1\n. Suppose\nO\n​\nN\nON\nreturns to\n1\n1\nat\n5\n≤\ns\n≤\n9\n5\\leq s\\leq 9\nafter serving\nr\nϵ\n1\nr_{\\epsilon_{1}}\nin any step\n[\n4\n,\ns\n−\n1\n]\n[4,s-1]\n. We release\nr\nϵ\n2\nr_{\\epsilon_{2}}\nat step\ns\ns\nwhich must be served by\n3\n​\ns\n3s\n.\nO\n​\nN\nON\nagain has two choices.\n*\nCase 3.A.i. Similar to Case 2.A.i\nO\n​\nN\nON\nserves\nr\nϵ\n2\nr_{\\epsilon_{2}}\nat step\ns\n+\n1\ns+1\n:\nLet\ns\n′\n≥\ns\n+\n2\ns^{\\prime}\\geq s+2\nbe the step at which\nO\n​\nN\nON\nis at\n1\n1\nafter serving\nr\nϵ\n2\nr_{\\epsilon_{2}}\n.\nO\n​\nN\nON\nmust reach\n1\n1\nby\ns\n′\n≤\n9\ns^{\\prime}\\leq 9\nsince otherwise\nr\n4\nr_{4}\nis not reached by step 12.\n*\nCase 3.A.ii\nO\n​\nN\nON\nserves\nr\n4\n,\nr\n5\n,\n…\nr_{4},r_{5},\\ldots\nand returns to\nϵ\n2\n{\\epsilon_{2}}\nby step\n3\n​\ns\n3s\n.\nSince\ns\n,\ns\n′\n≤\n9\ns,s^{\\prime}\\leq 9\n,\nO\n​\nN\nON\ncan only visit up to\ns\ns\n(\ns\n′\ns^{\\prime}\n) to return to\nϵ\n2\n{\\epsilon_{2}}\nby step\n3\n​\ns\n3s\n(\n3\n​\ns\n′\n3s^{\\prime}\n). If doing so, we reach Case 2.A.ii.\n–\nCase 3.B Attempt to serve\nr\n4\nr_{4}\nand then\nr\nϵ\n1\nr_{\\epsilon_{1}}\n:\nr\nϵ\n1\nr_{\\epsilon_{1}}\ncannot be served by step 6 if\nr\n4\nr_{4}\nis served.\n•\nCase 4.\nO\n​\nL\nOL\nwaits at\no\no\nfor 3 steps or more:\nWe have that\nO\n​\nN\n​\n(\nr\n1\n)\nO\n​\nP\n​\nT\n​\n(\nr\n1\n)\n>\n3\n\\frac{ON(r_{1})}{OPT(r_{1})}>3\nand we are done.\nTherefore, there is a request in\nℛ\n\\mathcal{R}\nwhich cannot be served with competitive ratio\n≤\n3\n\\leq 3\nby any deterministic algorithm.\n∎\nWe have the following corollary for the lower bound on the original model. The proof is immediate since above lower bound is in the prediction model and the prediction model is stronger than the original model.\nCorollary 1\n.\nNo deterministic algorithm can achieve 3-competitive ratio for online TRP in the original model.\n4\n(\n2\n+\n3\n)\n(2+\\sqrt{3})\n-Competitive Deterministic Algorithm on a Half-Line\nWe develop here a\n2\n+\n3\n≈\n3.732\n2+\\sqrt{3}\\approx 3.732\n-competitive deterministic algorithm for online TRP on a half-line\nℒ\n\\mathcal{L}\n. The algorithm works in both original and prediction models. This algorithm will be a fundamental building block for our line algorithm presented in the next section.\n1:\nstarting at time step\n0\n, server traverses\nℒ\n\\mathcal{L}\nin round trips\nR\n​\nT\nj\n,\nj\n≥\n1\n,\nRT_{j},j\\geq 1,\nstarting from and ending at origin\no\no\nuntil there is at least an outstanding request.\n2:\nif\nj\n=\n1\nj=1\nthen\n3:\nvisit segment of length\n2\n+\n2\n​\nα\n2\n\\frac{2+2\\alpha}{2}\nfrom\no\no\n.\n4:\nelse\n5:\nvisit segment of length\n(\n2\n+\n2\n​\nα\n)\nj\n−\n1\n​\n(\n1\n+\n2\n​\nα\n)\n2\n\\frac{(2+2\\alpha)^{j-1}(1+2\\alpha)}{2}\nfrom\no\no\n.\n6:\nend\nif\nAlgorithm 1\nAlgorithm on a half-line\nℒ\n\\mathcal{L}\nFigure 2:\nAn illustration of how Algorithm\n1\nvisits half-line\nℒ\n\\mathcal{L}\nin round-trips\nR\n​\nT\nj\n,\nj\n≥\n1\n,\nRT_{j},j\\geq 1,\nstarting from and ending at origin\no\no\n. The segment lengths of\nℒ\n\\mathcal{L}\nvisited in each\nR\n​\nT\nj\nRT_{j}\nis also shown at bottom.\nOur algorithm\nO\n​\nN\nON\nis outlined in Algorithm\n1\nand illustrated in Fig.\n2\n. Server is initially at origin\no\no\n, which is the one end of\nℒ\n\\mathcal{L}\n(and hence the half-line). Starting at time step\n0\n, server visits\nℒ\n\\mathcal{L}\nin round trips. In the first round trip\nR\n​\nT\n1\nRT_{1}\n, it visits the segment of\nℒ\n\\mathcal{L}\nof length\n2\n+\n2\n​\nα\n2\n\\frac{2+2\\alpha}{2}\nand returns to\no\no\n, where\nα\n\\alpha\nis some constant (we set its value later). Therefore, the length of\nR\n​\nT\n1\nRT_{1}\nis\n|\nR\n​\nT\n1\n|\n=\n2\n+\n2\n​\nα\n|RT_{1}|=2+2\\alpha\n.\nFor\nR\n​\nT\nj\n,\nj\n≥\n2\nRT_{j},j\\geq 2\n, it visits the segment of length\n(\n2\n+\n2\n​\nα\n)\nj\n−\n1\n​\n(\n1\n+\n2\n​\nα\n)\n2\n\\frac{(2+2\\alpha)^{j-1}(1+2\\alpha)}{2}\nwith\n|\nR\n​\nT\nj\n|\n=\n(\n2\n+\n2\n​\nα\n)\nj\n−\n1\n​\n(\n1\n+\n2\n​\nα\n)\n|RT_{j}|=(2+2\\alpha)^{j-1}(1+2\\alpha)\n.\nThe server stops as soon as there is no outstanding request.\nWe now analyze Algorithm\n1\nfor its correctness and competitive ratio guarantees. Correctness means that the server eventually serves all the requests no matter when and where that arrive. This is immediate since each round trip is of increasing length starting and ending at\no\no\nand hence all the request locations on\nℒ\n\\mathcal{L}\nare eventually visited. For the competitive ratio, we establish the following theorem.\nTheorem 2\n.\nAlgorithm\n1\nis\nmax\n⁡\n{\n2\n+\n2\n​\nα\n,\n5\n+\n6\n​\nα\n1\n+\n2\n​\nα\n}\n\\max\\{2+2\\alpha,\\frac{5+6\\alpha}{1+2\\alpha}\\}\n-competitive for online TRP on a half-line\nℒ\n\\mathcal{L}\nin the original model.\nProof.\nLet\nr\ni\n=\n(\nl\ni\n,\nt\ni\n)\nr_{i}=(l_{i},t_{i})\nbe the request that arrives at distance\nl\ni\nl_{i}\nfrom\no\no\nat time step\nt\ni\n≥\n0\nt_{i}\\geq 0\n. We have that\nO\n​\nP\n​\nT\n​\n(\nr\ni\n)\n≥\nmax\n⁡\n{\nl\ni\n,\nt\ni\n}\nOPT(r_{i})\\geq\\max\\{l_{i},t_{i}\\}\n. Let\nO\n​\nN\n​\n(\nr\ni\n)\nON(r_{i})\nbe the time at which\nO\n​\nN\nON\n(Algorithm\n1\n) serves\nr\ni\nr_{i}\n.\nWe show that\nO\n​\nN\n​\n(\nr\ni\n)\n≤\nmax\n⁡\n{\n2\n+\n2\n​\nα\n,\n5\n+\n6\n​\nα\n1\n+\n2\n​\nα\n}\n⋅\nO\n​\nP\n​\nT\n​\n(\nr\ni\n)\n.\nON(r_{i})\\leq\\max\\{2+2\\alpha,\\frac{5+6\\alpha}{1+2\\alpha}\\}\\cdot OPT(r_{i}).\nWe consider two cases. The first case deals with\nl\ni\n≥\nt\ni\nl_{i}\\geq t_{i}\nand the second case deals with\nl\ni\n<\nt\ni\nl_{i}<t_{i}\n.\nCase 1:\nl\ni\n≥\nt\ni\nl_{i}\\geq t_{i}\n:\nIn this case,\nO\n​\nP\n​\nT\n​\n(\nr\ni\n)\n≥\nl\ni\nOPT(r_{i})\\geq l_{i}\n. Since\nt\ni\n≤\nl\ni\n,\nt_{i}\\leq l_{i},\nl\ni\n≥\nt\ni\n≥\n0\nl_{i}\\geq t_{i}\\geq 0\n. We prove here that\nO\n​\nN\n​\n(\nr\ni\n)\n≤\n5\n+\n6\n​\nα\n1\n+\n2\n​\nα\n​\nO\n​\nP\n​\nT\n​\n(\nr\ni\n)\n.\nON(r_{i})\\leq\\frac{5+6\\alpha}{1+2\\alpha}OPT(r_{i}).\nWe consider three cases of\nl\ni\nl_{i}\nseparately:\nl\ni\n=\n{\n[\n0\n,\n1\n+\nα\n]\nCase 1.1\n(\n(\n1\n+\nα\n)\n,\n(\n2\n+\n2\n​\nα\n)\n​\n(\n1\n+\n2\n​\nα\n)\n2\n]\nCase 1.2\n(\n(\n2\n+\n2\n​\nα\n)\nj\n−\n2\n​\n(\n1\n+\n2\n​\nα\n)\n2\n,\n(\n2\n+\n2\n​\nα\n)\nj\n−\n1\n​\n(\n1\n+\n2\n​\nα\n)\n2\n]\nCase 1.3\nl_{i}=\\begin{cases}[0,1+\\alpha]&\\textbf{Case 1.1}\\\\\n((1+\\alpha),\\frac{(2+2\\alpha)(1+2\\alpha)}{2}]&\\textbf{Case 1.2}\\\\\n(\\frac{(2+2\\alpha)^{j-2}(1+2\\alpha)}{2},\\frac{(2+2\\alpha)^{j-1}(1+2\\alpha)}{2}]&\\textbf{Case 1.3}\\\\\n\\end{cases}\nCase 1.1:\nConsider first the case of\nl\ni\n∈\n[\n0\n,\n(\n1\n+\nα\n)\n]\nl_{i}\\in[0,(1+\\alpha)]\n.\nSince\nl\ni\n≥\nt\ni\nl_{i}\\geq t_{i}\n,\nr\ni\nr_{i}\nmust have arrived by the time\nO\n​\nN\nON\nreaches\nl\ni\nl_{i}\nduring the first round-trip\nR\n​\nT\n1\nRT_{1}\n. That is,\nr\ni\nr_{i}\nmust have arrived at time step\nt\ni\n≤\n⌊\nl\ni\n⌋\nt_{i}\\leq\\lfloor l_{i}\\rfloor\n, otherwise\nl\ni\n∉\n[\n0\n,\n(\n1\n+\nα\n)\n]\nl_{i}\\notin[0,(1+\\alpha)]\n. Therefore\nr\ni\nr_{i}\nmust be served by\nO\n​\nN\nON\nwhile going from\no\no\nto\n1\n+\nα\n1+\\alpha\ngiving competitive ratio 1.\nCase 1.2:\nNow consider the second case of\nl\ni\n∈\n(\n(\n1\n+\nα\n)\n,\n(\n2\n+\n2\n​\nα\n)\n​\n(\n1\n+\n2\n​\nα\n)\n2\n]\nl_{i}\\in((1+\\alpha),\\frac{(2+2\\alpha)(1+2\\alpha)}{2}]\n.\nO\n​\nL\nOL\nvisits\nl\ni\nl_{i}\nfor the first time in the second round-trip\nR\n​\nT\n2\nRT_{2}\nsince\nt\ni\n≤\nl\ni\nt_{i}\\leq l_{i}\n. This gives\nO\n​\nN\n​\n(\nr\ni\n)\n≤\nl\ni\n+\n|\nR\n​\nT\n1\n|\n≤\nl\ni\n+\n(\n2\n+\n2\n​\nα\n)\nON(r_{i})\\leq l_{i}+|RT_{1}|\\leq l_{i}+(2+2\\alpha)\n.\nTherefore,\nO\n​\nL\n​\n(\nr\ni\n)\nO\n​\nP\n​\nT\n​\n(\nr\ni\n)\n=\nl\ni\n+\n(\n2\n+\n2\n​\nα\n)\nl\ni\n.\n\\frac{OL(r_{i})}{OPT(r_{i})}=\\frac{l_{i}+(2+2\\alpha)}{l_{i}}.\nThe value of\nO\n​\nN\n​\n(\nr\ni\n)\nO\n​\nP\n​\nT\n​\n(\nr\ni\n)\n\\frac{ON(r_{i})}{OPT(r_{i})}\nis maximized picking\nl\ni\n=\n(\n1\n+\nα\n)\nl_{i}=(1+\\alpha)\nwhen\nl\ni\n∈\n(\n(\n1\n+\nα\n)\n,\n(\n2\n+\n2\n​\nα\n)\n​\n(\n1\n+\n2\n​\nα\n)\n2\n]\n.\nl_{i}\\in((1+\\alpha),\\frac{(2+2\\alpha)(1+2\\alpha)}{2}].\nTherefore,\nO\n​\nN\n​\n(\nr\ni\n)\nO\n​\nP\n​\nT\n​\n(\nr\ni\n)\n=\n(\n1\n+\nα\n)\n+\n(\n2\n+\n2\n​\nα\n)\n(\n1\n+\nα\n)\n≤\n3\n​\n(\n1\n+\nα\n)\n(\n1\n+\nα\n)\n≤\n3\n.\n\\frac{ON(r_{i})}{OPT(r_{i})}=\\frac{(1+\\alpha)+(2+2\\alpha)}{(1+\\alpha)}\\leq\\frac{3(1+\\alpha)}{(1+\\alpha)}\\leq 3.\nCase 1.3:\nWe now consider the third and final case of\nl\ni\n∈\n(\n(\n2\n+\n2\n​\nα\n)\nj\n−\n2\n​\n(\n1\n+\n2\n​\nα\n)\n2\n,\n(\n2\n+\n2\n​\nα\n)\nj\n−\n1\n​\n(\n1\n+\n2\n​\nα\n)\n2\n]\nl_{i}\\in(\\frac{(2+2\\alpha)^{j-2}(1+2\\alpha)}{2},\\frac{(2+2\\alpha)^{j-1}(1+2\\alpha)}{2}]\n, which happens in\nR\n​\nT\nj\n,\nj\n≥\n3\nRT_{j},j\\geq 3\n.\nO\n​\nN\nON\nvisits\nl\ni\nl_{i}\nfor the first time in\nR\n​\nT\nj\nRT_{j}\nsince\nt\ni\n≤\nl\ni\nt_{i}\\leq l_{i}\n. This gives\nO\n​\nN\n​\n(\nr\ni\n)\n≤\nl\ni\n+\n∑\nk\n=\n1\nj\n−\n1\n(\n|\nR\n​\nT\nk\n|\n)\n≤\nl\ni\n+\n(\n2\n+\n2\n​\nα\n)\nj\n−\n1\nON(r_{i})\\leq l_{i}+\\sum_{k=1}^{j-1}(|RT_{k}|)\\leq l_{i}+(2+2\\alpha)^{j-1}\n.\nThus,\nO\n​\nN\n​\n(\nr\ni\n)\nO\n​\nP\n​\nT\n​\n(\nr\ni\n)\n=\nl\ni\n+\n(\n2\n+\n2\n​\nα\n)\nj\n−\n1\nl\ni\n.\n\\frac{ON(r_{i})}{OPT(r_{i})}=\\frac{l_{i}+(2+2\\alpha)^{j-1}}{l_{i}}.\nAgain, the value of\nO\n​\nN\n​\n(\nr\ni\n)\nO\n​\nP\n​\nT\n​\n(\nr\ni\n)\n\\frac{ON(r_{i})}{OPT(r_{i})}\nis maximized picking\nl\ni\n=\n(\n2\n+\n2\n​\nα\n)\nj\n−\n2\n​\n(\n1\n+\n2\n​\nα\n)\n2\nl_{i}=\\frac{(2+2\\alpha)^{j-2}(1+2\\alpha)}{2}\nwhen\nl\ni\n∈\n(\n(\n2\n+\n2\n​\nα\n)\nj\n−\n2\n​\n(\n1\n+\n2\n​\nα\n)\n2\n,\n(\n2\n+\n2\n​\nα\n)\nj\n−\n1\n​\n(\n1\n+\n2\n​\nα\n)\n2\n]\n.\nl_{i}\\in(\\frac{(2+2\\alpha)^{j-2}(1+2\\alpha)}{2},\\frac{(2+2\\alpha)^{j-1}(1+2\\alpha)}{2}].\nTherefore,\nO\n​\nN\n​\n(\nr\ni\n)\nO\n​\nP\n​\nT\n​\n(\nr\ni\n)\n=\n(\n2\n+\n2\n​\nα\n)\nj\n−\n2\n​\n(\n1\n+\n2\n​\nα\n)\n2\n+\n(\n2\n+\n2\n​\nα\n)\nj\n−\n1\n(\n2\n+\n2\n​\nα\n)\nj\n−\n2\n​\n(\n1\n+\n2\n​\nα\n)\n2\n≤\n5\n+\n6\n​\nα\n1\n+\n2\n​\nα\n.\n\\frac{ON(r_{i})}{OPT(r_{i})}=\\frac{\\frac{(2+2\\alpha)^{j-2}(1+2\\alpha)}{2}+(2+2\\alpha)^{j-1}}{\\frac{(2+2\\alpha)^{j-2}(1+2\\alpha)}{2}}\\leq\\frac{5+6\\alpha}{1+2\\alpha}.\nCase 2:\nl\ni\n<\nt\ni\nl_{i}<t_{i}\n:\nIn this case,\nO\n​\nP\n​\nT\n​\n(\nr\ni\n)\n≥\nt\ni\nOPT(r_{i})\\geq t_{i}\n. Since\nt\ni\n>\nl\ni\n,\nt_{i}>l_{i},\nt\ni\n≥\nl\ni\n≥\n0\nt_{i}\\geq l_{i}\\geq 0\n. We prove that\nO\n​\nN\n​\n(\nr\ni\n)\n≤\nmax\n⁡\n{\n2\n+\n2\n​\nα\n,\n5\n+\n6\n​\nα\n1\n+\n2\n​\nα\n}\n​\nO\n​\nP\n​\nT\n​\n(\nr\ni\n)\n.\nON(r_{i})\\leq\\max\\{2+2\\alpha,\\frac{5+6\\alpha}{1+2\\alpha}\\}OPT(r_{i}).\nWe now consider cases of\nt\ni\nt_{i}\nseparately:\nt\ni\n=\n{\n[\n0\n,\n1\n+\nα\n]\nCase 2.1\n(\n(\n1\n+\nα\n)\n,\n(\n2\n+\n2\n​\nα\n)\n]\nCase 2.2\n(\n(\n2\n+\n2\n​\nα\n)\nj\n−\n1\n,\n(\n2\n+\n2\n​\nα\n)\nj\n−\n1\n​\n(\n3\n+\n2\n​\nα\n)\n2\n]\nCase 2.3\n(\n(\n2\n+\n2\n​\nα\n)\nj\n−\n1\n​\n(\n3\n+\n2\n​\nα\n)\n2\n,\n(\n2\n+\n2\n​\nα\n)\nj\n]\nCase 2.4\nt_{i}=\\begin{cases}[0,1+\\alpha]&\\textbf{Case 2.1}\\\\\n((1+\\alpha),(2+2\\alpha)]&\\textbf{Case 2.2}\\\\\n((2+2\\alpha)^{j-1},\\frac{(2+2\\alpha)^{j-1}(3+2\\alpha)}{2}]&\\textbf{Case 2.3}\\\\\n(\\frac{(2+2\\alpha)^{j-1}(3+2\\alpha)}{2},(2+2\\alpha)^{j}]&\\textbf{Case 2.4}\\end{cases}\nCase 2.1:\nFor\nt\ni\n∈\n[\n0\n,\n1\n+\nα\n]\nt_{i}\\in[0,1+\\alpha]\n,\nr\ni\nr_{i}\nmust arrive by step\n⌊\n1\n+\nα\n⌋\n\\lfloor 1+\\alpha\\rfloor\n.\nO\n​\nN\nON\nis at location\n1\n+\nα\n1+\\alpha\nfrom\no\no\nat step\n⌊\n1\n+\nα\n⌋\n\\lfloor 1+\\alpha\\rfloor\n.\nIf\nr\ni\nr_{i}\n’s location is between\no\no\nand\n1\n+\nα\n1+\\alpha\n, we have two cases. Either\nt\ni\n=\n0\nt_{i}=0\nor\nt\ni\n≥\n1\nt_{i}\\geq 1\n.\nIf\nt\ni\n=\n0\nt_{i}=0\nand\nl\ni\n=\n0\nl_{i}=0\n,\nr\ni\nr_{i}\nis served immediately at step\n0\n. If\nt\ni\n≥\n1\nt_{i}\\geq 1\n, then it will be served by time step\n(\n2\n+\n2\n​\nα\n)\n(2+2\\alpha)\n. Therefore,\nO\n​\nN\n​\n(\nr\ni\n)\n≤\n(\n2\n+\n2\n​\nα\n)\n⋅\nO\n​\nP\n​\nT\n​\n(\nr\ni\n)\nON(r_{i})\\leq(2+2\\alpha)\\cdot OPT(r_{i})\n.\nIf\nr\ni\nr_{i}\n’s location is not between between\no\no\nand\n1\n+\nα\n1+\\alpha\n,\nCase 1\napplies since\nl\ni\n≥\nt\ni\nl_{i}\\geq t_{i}\n, giving the competitive ratio\nO\n​\nN\n​\n(\nr\ni\n)\n≤\n5\n+\n6\n​\nα\n1\n+\n2\n​\nα\n​\nO\n​\nP\n​\nT\n​\n(\nr\ni\n)\nON(r_{i})\\leq\\frac{5+6\\alpha}{1+2\\alpha}OPT(r_{i})\n.\nCase 2.2:\nFor\nt\ni\n∈\n(\n(\n1\n+\nα\n)\n,\n(\n2\n+\n2\n​\nα\n)\n]\nt_{i}\\in((1+\\alpha),(2+2\\alpha)]\n,\nr\ni\nr_{i}\nmust arrive by\n(\n2\n+\n2\n​\nα\n)\n(2+2\\alpha)\n.\nIf\nr\ni\nr_{i}\n’s location is between\no\no\nand\n1\n+\nα\n1+\\alpha\n(inclusive), then it will be served by\nt\ni\n+\n2\n+\n2\n​\nα\nt_{i}+2+2\\alpha\n. We have that\nO\n​\nP\n​\nT\n​\n(\nr\ni\n)\n≥\nt\ni\n≥\n(\n1\n+\nα\n)\nOPT(r_{i})\\geq t_{i}\\geq(1+\\alpha)\n. Therefore,\nO\n​\nN\n​\n(\nr\ni\n)\n/\nO\n​\nP\n​\nT\n​\n(\nr\ni\n)\n≤\n3\nON(r_{i})/OPT(r_{i})\\leq 3\n.\nIf\nr\ni\nr_{i}\n’s location is between\n1\n+\nα\n1+\\alpha\nand\n2\n+\n2\n​\nα\n2+2\\alpha\nfrom\no\no\n, we have that\nr\ni\nr_{i}\nis arrived by\n2\n+\n2\n​\nα\n2+2\\alpha\n. The server may be at\no\no\nwhen\nr\ni\nr_{i}\narrives. Additionally,\nt\ni\n>\nl\ni\nt_{i}>l_{i}\n. Therefore,\nO\n​\nN\nON\ncan reach\nr\ni\nr_{i}\n’s location from\no\no\ntraveling at most distance\nt\ni\nt_{i}\n.\nThus,\nr\ni\nr_{i}\nwill be served by\nO\n​\nN\nON\nin the second round-trip\nR\n​\nT\n2\nRT_{2}\nby time\nt\ni\n+\n(\n2\n+\n2\n​\nα\n)\nt_{i}+(2+2\\alpha)\n.\nIf\nr\ni\nr_{i}\n’s location is not between\no\no\nand\n2\n+\n2\n​\nα\n2+2\\alpha\n(inclusive),\nCase 1\napplies since\nl\ni\n≥\nt\ni\nl_{i}\\geq t_{i}\n, giving the competitive ratio\nO\n​\nN\n​\n(\nr\ni\n)\n≤\n5\n+\n6\n​\nα\n1\n+\n2\n​\nα\n​\nO\n​\nP\n​\nT\n​\n(\nr\ni\n)\nON(r_{i})\\leq\\frac{5+6\\alpha}{1+2\\alpha}OPT(r_{i})\n.\nCase 2.3:\nFor\nt\ni\n∈\n(\n(\n2\n+\n2\n​\nα\n)\nj\n−\n1\n,\n(\n2\n+\n2\n​\nα\n)\nj\n−\n1\n​\n(\n3\n+\n2\n​\nα\n)\n2\n]\nt_{i}\\in((2+2\\alpha)^{j-1},\\frac{(2+2\\alpha)^{j-1}(3+2\\alpha)}{2}]\n,\nr\ni\nr_{i}\nmust arrive by time step\n⌊\n(\n2\n+\n2\n​\nα\n)\nj\n−\n1\n​\n(\n3\n+\n2\n​\nα\n)\n2\n⌋\n\\lfloor\\frac{(2+2\\alpha)^{j-1}(3+2\\alpha)}{2}\\rfloor\n.\nO\n​\nN\nON\nis at\n(\n2\n+\n2\n​\nα\n)\nj\n−\n1\n​\n(\n3\n+\n2\n​\nα\n)\n2\n\\frac{(2+2\\alpha)^{j-1}(3+2\\alpha)}{2}\nat time step\n⌊\n(\n2\n+\n2\n​\nα\n)\nj\n−\n1\n​\n(\n3\n+\n2\n​\nα\n)\n2\n⌋\n\\lfloor\\frac{(2+2\\alpha)^{j-1}(3+2\\alpha)}{2}\\rfloor\n.\nIf\nr\ni\nr_{i}\n’s location is between\no\no\nand\n(\n2\n+\n2\n​\nα\n)\nj\n−\n1\n​\n(\n3\n+\n2\n​\nα\n)\n2\n\\frac{(2+2\\alpha)^{j-1}(3+2\\alpha)}{2}\n, it will be served by time\n(\n2\n+\n2\n​\nα\n)\nj\n(2+2\\alpha)^{j}\n.\nAdditionally,\nO\n​\nP\n​\nT\n​\n(\nr\ni\n)\n≥\n(\n2\n+\n2\n​\nα\n)\nj\n−\n1\n.\nOPT(r_{i})\\geq(2+2\\alpha)^{j-1}.\nTherefore,\nO\n​\nN\n​\n(\nr\ni\n)\n≤\n(\n2\n+\n2\n​\nα\n)\n⋅\nO\n​\nP\n​\nT\n​\n(\nr\ni\n)\nON(r_{i})\\leq(2+2\\alpha)\\cdot OPT(r_{i})\n.\nIf\nr\ni\nr_{i}\n’s location is not between\no\no\nand\n(\n2\n+\n2\n​\nα\n)\nj\n−\n1\n​\n(\n3\n+\n2\n​\nα\n)\n2\n\\frac{(2+2\\alpha)^{j-1}(3+2\\alpha)}{2}\n, we have that\nl\ni\n≥\nt\ni\nl_{i}\\geq t_{i}\n, and\nCase 1\napplies, giving the competitive ratio\nO\n​\nN\n​\n(\nr\ni\n)\n≤\n5\n+\n6\n​\nα\n1\n+\n2\n​\nα\n​\nO\n​\nP\n​\nT\n​\n(\nr\ni\n)\nON(r_{i})\\leq\\frac{5+6\\alpha}{1+2\\alpha}OPT(r_{i})\n.\nCase 2.4:\nThis case is similar to Case 2.2 and the competitive ratio becomes either\n2\n+\n2\n​\nα\n2+2\\alpha\nor\n5\n+\n6\n​\nα\n1\n+\n2\n​\nα\n.\n\\frac{5+6\\alpha}{1+2\\alpha}.\nCombining all the competitive ratios, we have the claimed\nmax\n⁡\n{\n2\n+\n2\n​\nα\n,\n5\n+\n6\n​\nα\n1\n+\n2\n​\nα\n}\n\\max\\{2+2\\alpha,\\frac{5+6\\alpha}{1+2\\alpha}\\}\ncompetitive ratio for Algorithm\n1\nfor online TRP on a half-line\nℒ\n\\mathcal{L}\n.\n∎\nCorollary 2\n.\nSetting\nα\n=\n3\n2\n\\alpha=\\frac{\\sqrt{3}}{2}\n, Algorithm\n1\nbecomes\n(\n2\n+\n3\n)\n≈\n3.732\n(2+\\sqrt{3})\\approx 3.732\n-competitive for online TRP on a half-line\nℒ\n\\mathcal{L}\n.\nProof.\nThe competitive ratio is minimized when\n2\n+\n2\n​\nα\n\\displaystyle 2+2\\alpha\n=\n5\n+\n6\n​\nα\n1\n+\n2\n​\nα\n\\displaystyle=\\frac{5+6\\alpha}{1+2\\alpha}\n⇒\n\\displaystyle\\Rightarrow\\quad\n(\n2\n+\n2\n​\nα\n)\n​\n(\n1\n+\n2\n​\nα\n)\n\\displaystyle(2+2\\alpha)(1+2\\alpha)\n=\n5\n+\n6\n​\nα\n\\displaystyle=5+6\\alpha\n⇒\n\\displaystyle\\Rightarrow\\quad\n2\n+\n4\n​\nα\n+\n2\n​\nα\n+\n4\n​\nα\n2\n\\displaystyle 2+4\\alpha+2\\alpha+4\\alpha^{2}\n=\n5\n+\n6\n​\nα\n\\displaystyle=5+6\\alpha\n⇒\n\\displaystyle\\Rightarrow\\quad\n2\n+\n6\n​\nα\n+\n4\n​\nα\n2\n−\n5\n−\n6\n​\nα\n\\displaystyle 2+6\\alpha+4\\alpha^{2}-5-6\\alpha\n=\n0\n\\displaystyle=0\n⇒\n\\displaystyle\\Rightarrow\\quad\n4\n​\nα\n2\n−\n3\n\\displaystyle 4\\alpha^{2}-3\n=\n0\n\\displaystyle=0\n⇒\n\\displaystyle\\Rightarrow\\quad\n4\n​\nα\n2\n\\displaystyle 4\\alpha^{2}\n=\n3\n\\displaystyle=3\n⇒\n\\displaystyle\\Rightarrow\\quad\nα\n2\n\\displaystyle\\alpha^{2}\n=\n3\n4\n\\displaystyle=\\frac{3}{4}\n⇒\n\\displaystyle\\Rightarrow\\quad\nα\n\\displaystyle\\alpha\n=\n3\n2\n\\displaystyle=\\frac{\\sqrt{3}}{2}\nTherefore, setting\nα\n=\n3\n2\n\\alpha=\\frac{\\sqrt{3}}{2}\n,\n2\n+\n2\n​\nα\n=\n2\n+\n2\n​\n3\n2\n=\n2\n+\n3\n2+2\\alpha=2+2\\frac{\\sqrt{3}}{2}=2+\\sqrt{3}\nand\n5\n+\n6\n​\nα\n1\n+\n2\n​\nα\n=\n5\n+\n6\n​\n3\n2\n1\n+\n2\n​\n3\n2\n=\n5\n+\n3\n​\n3\n1\n+\n3\n=\n2\n+\n3\n,\n\\frac{5+6\\alpha}{1+2\\alpha}=\\frac{5+6\\frac{\\sqrt{3}}{2}}{1+2\\frac{\\sqrt{3}}{2}}=\\frac{5+3\\sqrt{3}}{1+\\sqrt{3}}=2+\\sqrt{3},\nsince\n5\n+\n3\n​\n3\n=\n(\n2\n+\n3\n)\n​\n(\n1\n+\n3\n)\n5+3\\sqrt{3}=(2+\\sqrt{3})(1+\\sqrt{3})\n.\nThat is, Algorithm\n1\nis\n(\n2\n+\n3\n)\n≈\n3.732\n(2+\\sqrt{3})\\approx 3.732\n-competitive.\n∎\n5\n(\n2\n+\n3\n)\n(2+\\sqrt{3})\n-Competitive Algorithm on a Line with Perfect Predictions\nHighlevel Overview.\nWe build our algorithm on two ideas. The first idea is Afrati\net al.\n’s algorithm\nAfrati\net al.\n(\n1986\n)\n(which we call\nA\n​\nF\n​\nR\n​\nA\n​\nT\n​\nI\n​\n_\n​\nA\n​\nL\n​\nG\nAFRATI\\_ALG\n) for offline TRP. In offline TRP, the request set\nℛ\n\\mathcal{R}\nis known to the algorithm beforehand.\nKnowing\nℛ\n\\mathcal{R}\n,\nA\n​\nF\n​\nR\n​\nA\n​\nT\n​\nI\n​\n_\n​\nA\n​\nL\n​\nG\nAFRATI\\_ALG\ncomputes a tour\nO\n​\nF\n​\nF\n​\n_\n​\nT\n​\nO\n​\nU\n​\nR\nOFF\\_TOUR\non\nℒ\n\\mathcal{L}\nto visit the request locations in\nℛ\n\\mathcal{R}\n(Fig.\n3\n).\nFigure 3:\nAn illustration of\nO\n​\nF\n​\nF\n​\n_\n​\nT\n​\nO\n​\nU\n​\nR\nOFF\\_TOUR\nfor offline TRP or\nP\n​\nR\n​\nE\n​\nD\n​\n_\n​\nT\n​\nO\n​\nU\n​\nR\nPRED\\_TOUR\nof predicted locations for online TRP, computed using\nA\n​\nF\n​\nR\n​\nA\n​\nT\n​\nI\n​\n_\n​\nA\n​\nL\n​\nG\nAFRATI\\_ALG\n. The points on\nℒ\n\\mathcal{L}\nwhere the tour changes direction are denoted by\nx\ni\nx_{i}\non\nℒ\nl\n​\ne\n​\nf\n​\nt\n\\mathcal{L}_{left}\nand\ny\ni\ny_{i}\non\nℒ\nr\n​\ni\n​\ng\n​\nh\n​\nt\n\\mathcal{L}_{right}\n.\nFigure 4:\nAn alternative illustration of\nO\n​\nF\n​\nF\n​\n_\n​\nT\n​\nO\n​\nU\n​\nR\nOFF\\_TOUR\nor\nP\n​\nR\n​\nE\n​\nD\n​\n_\n​\nT\n​\nO\n​\nU\n​\nR\nPRED\\_TOUR\nof Fig.\n3\nas a half-line starting from\no\no\nat the right end (despite it visits\no\no\nmultiple times). Consider any request\nr\ni\nr_{i}\n(denoted as black circle) that arrives at a location on the bold intervals. We have that\nO\n​\nP\n​\nT\n​\n(\nr\ni\n)\n≥\n{\n|\nO\n​\nF\n​\nF\n​\n_\n​\nT\n​\nO\n​\nU\n​\nR\ni\n|\n,\nt\ni\n}\nOPT(r_{i})\\geq\\{|OFF\\_TOUR_{i}|,t_{i}\\}\n, where\n|\nO\n​\nF\n​\nF\n​\n_\n​\nT\n​\nO\n​\nU\n​\nR\ni\n|\n|OFF\\_TOUR_{i}|\nis the length of\nO\n​\nF\n​\nF\n​\n_\n​\nT\n​\nO\n​\nU\n​\nR\nOFF\\_TOUR\nstarting from\no\no\n(right end) to the position\np\ni\np_{i}\nof\nr\ni\nr_{i}\n(shown as a arrow line).\nIn the prediction model, given the predicted locations\np\nl\n​\no\n​\nc\ni\np^{i}_{loc}\nof the requests in\nℛ\n\\mathcal{R}\n, we compute a\nP\n​\nR\n​\nE\n​\nD\n​\n_\n​\nT\n​\nO\n​\nU\n​\nR\nPRED\\_TOUR\nof the predicted locations applying\nA\n​\nF\n​\nR\n​\nA\n​\nT\n​\nI\n​\n_\n​\nA\n​\nL\n​\nG\nAFRATI\\_ALG\n.\nIn the prediction model, since requests arrive over time, traversing\nP\n​\nR\n​\nE\n​\nD\n​\n_\n​\nT\n​\nO\n​\nU\n​\nR\nPRED\\_TOUR\nonce may be not enough to serve requests. Additionally, the competitive ratio might become prohibitively large if\nP\n​\nR\n​\nE\n​\nD\n​\n_\n​\nT\n​\nO\n​\nU\n​\nR\nPRED\\_TOUR\nis not traversed carefully. This is where the second idea helps, that is, use the half-line algorithm (Algorithm\n1\n) to visit the\nP\n​\nR\n​\nE\n​\nD\n​\n_\n​\nT\n​\nO\n​\nU\n​\nR\nPRED\\_TOUR\nso that the competitive ratio can be controlled.\nA\n​\nF\n​\nR\n​\nA\n​\nT\n​\nI\n​\n_\n​\nA\n​\nL\n​\nG\nAFRATI\\_ALG\nAfrati\net al.\n(\n1986\n)\n:\nA\n​\nF\n​\nR\n​\nA\n​\nT\n​\nI\n​\n_\n​\nA\n​\nL\n​\nG\nAFRATI\\_ALG\nAfrati\net al.\n(\n1986\n)\nis an offline algorithm meaning that\nthe input\nℛ\n\\mathcal{R}\nis known beforehand.\nA\n​\nF\n​\nR\n​\nA\n​\nT\n​\nI\n​\n_\n​\nA\n​\nL\n​\nG\nAFRATI\\_ALG\ncomputes\nO\n​\nF\n​\nF\n​\n_\n​\nT\n​\nO\n​\nU\n​\nR\nOFF\\_TOUR\n(Fig.\n3\n) starting from\no\no\npicking a direction\nl\n​\ne\n​\nf\n​\nt\nleft\nor\nr\n​\ni\n​\ng\n​\nh\n​\nt\nright\n(from\no\no\n). Suppose\nA\n​\nF\n​\nR\n​\nA\n​\nT\n​\nI\n​\n_\n​\nA\n​\nL\n​\nG\nAFRATI\\_ALG\npicks direction\nl\n​\ne\n​\nf\n​\nt\nleft\nfirst (picking direction\nr\n​\ni\n​\ng\n​\nh\n​\nt\nright\nfirst is analogous). Let\nx\n∗\nx_{*}\n(\ny\n∗\ny_{*}\n) denote the point on\nℒ\nl\n​\ne\n​\nf\n​\nt\n\\mathcal{L}_{left}\n(\nℒ\nr\n​\ni\n​\ng\n​\nh\n​\nt\n\\mathcal{L}_{right}\n). Using this notation, the origin\no\no\ncan be written as\n(\nx\n0\n,\ny\n0\n)\n(x_{0},y_{0})\n. The leftmost (rightmost) endpoint on\nℒ\nl\n​\ne\n​\nf\n​\nt\n\\mathcal{L}_{left}\n(\nℒ\nr\n​\ni\n​\ng\n​\nh\n​\nt\n\\mathcal{L}_{right}\n) can be written as\nx\nm\n=\na\nx_{m}=a\n(\ny\nm\n′\n=\nb\ny_{m^{\\prime}}=b\n).\nThe server\ns\ns\nvisits\nℒ\n\\mathcal{L}\nfrom\no\n=\n(\nx\n0\n,\ny\n0\n)\no=(x_{0},y_{0})\nalternating between left and right directions.\nSuppose\ns\ns\nis currently traversing\nl\n​\ne\n​\nf\n​\nt\nleft\n. Suppose\ns\ns\nchanges direction at point\nx\ni\nx_{i}\non\nℒ\nl\n​\ne\n​\nf\n​\nt\n\\mathcal{L}_{left}\n. After changing direction, it visits\nℒ\nr\n​\ni\n​\ng\n​\nh\n​\nt\n\\mathcal{L}_{right}\nin the\nr\n​\ni\n​\ng\n​\nh\n​\nt\nright\ndirection. Let\ny\ni\ny_{i}\nbe the point on\nℒ\nr\n​\ni\n​\ng\n​\nh\n​\nt\n\\mathcal{L}_{right}\nat which\ns\ns\nagain changes direction. This change of direction continues until either\nx\nm\n=\na\nx_{m}=a\nis visited after visiting\ny\nm\n′\n=\nb\ny_{m}^{\\prime}=b\nor\ny\nm\n′\n=\nb\ny_{m}^{\\prime}=b\nis visited after visiting\nx\nm\n=\na\nx_{m}=a\n.\n[\nx\ni\n,\ny\ni\n]\n[x_{i},y_{i}]\n(\n[\ny\ni\n,\nx\ni\n+\n1\n]\n[y_{i},x_{i+1}]\n) denotes the segment of\nℒ\n\\mathcal{L}\nserver\ns\ns\nvisits in its right (left) direction.\nLet\nr\ni\nr_{i}\nbe a request that arrives in the interval\n(\nx\nj\n,\nx\nj\n+\n1\n]\n(x_{j},x_{j+1}]\nor\n(\ny\nj\n,\ny\nj\n+\n1\n]\n(y_{j},y_{j+1}]\n(with\nj\n≥\n0\nj\\geq 0\n) of\nO\n​\nF\n​\nF\n​\n_\n​\nT\n​\nO\n​\nU\n​\nR\nOFF\\_TOUR\nwith\nx\n0\n=\ny\n0\n=\no\nx_{0}=y_{0}=o\n. Fig.\n4\nprovides an illustration.\nA\n​\nF\n​\nR\n​\nA\n​\nT\n​\nI\n​\n_\n​\nA\n​\nL\n​\nG\nAFRATI\\_ALG\nguarantees that\nO\n​\nP\n​\nT\n​\n(\nr\ni\n)\n=\n|\nO\n​\nF\n​\nF\n​\n_\n​\nT\n​\nO\n​\nU\n​\nR\ni\n|\nOPT(r_{i})=|OFF\\_TOUR_{i}|\n, where\n|\nO\n​\nF\n​\nF\n​\n_\n​\nT\n​\nO\n​\nU\n​\nR\ni\n|\n|OFF\\_TOUR_{i}|\nis the length of\nO\n​\nF\n​\nF\n​\n_\n​\nT\n​\nO\n​\nU\n​\nR\nOFF\\_TOUR\nfrom\no\no\nuntil the position\np\ni\np_{i}\nof\nr\ni\nr_{i}\n. In offline TRP, there is no request to serve between two subsequent bold intervals.\nWe have the following theorem.\nTheorem 3\n(\nAfrati\net al.\n(\n1986\n)\n)\n.\nA\n​\nF\n​\nT\n​\nR\n​\nA\n​\nT\n​\nI\n​\n_\n​\nA\n​\nL\n​\nG\nAFTRATI\\_ALG\nis optimal (competitive ratio 1) for offline TRP on line\nℒ\n\\mathcal{L}\n.\n1:\ngiven the predicted locations of the requests in\nℛ\n\\mathcal{R}\n, compute\nP\n​\nR\n​\nE\n​\nD\n​\n_\n​\nT\n​\nO\n​\nU\n​\nR\nPRED\\_TOUR\nof the predicted locations using\nA\n​\nF\n​\nR\n​\nA\n​\nT\n​\nI\n​\n_\n​\nA\n​\nL\n​\nG\nAFRATI\\_ALG\n.\n2:\nsuppose\nP\n​\nR\n​\nE\n​\nD\n​\n_\n​\nT\n​\nO\n​\nU\n​\nR\nPRED\\_TOUR\nvisits\nℒ\nl\n​\ne\n​\nf\n​\nt\n\\mathcal{L}_{left}\nfirst (visiting\nℒ\nr\n​\ni\n​\ng\n​\nh\n​\nt\n\\mathcal{L}_{right}\nfirst is analogous).\n3:\n{\no\n,\nx\n1\n,\ny\n1\n,\nx\n2\n,\ny\n2\n,\n…\n,\nx\nm\n,\ny\nm\n′\n}\n←\n\\{o,x_{1},y_{1},x_{2},y_{2},\\ldots,x_{m},y_{m^{\\prime}}\\}\\leftarrow\nP\n​\nR\n​\nE\n​\nD\n​\n_\n​\nT\n​\nO\n​\nU\n​\nR\nPRED\\_TOUR\nsuch that\nx\ni\n,\ny\ni\nx_{i},y_{i}\nare the points at which\nP\n​\nR\n​\nE\n​\nD\n​\n_\n​\nT\n​\nO\n​\nU\n​\nR\nPRED\\_TOUR\nchanges direction, with\nx\nm\n=\na\nx_{m}=a\nand\ny\nm\n′\n=\nb\ny_{m^{\\prime}}=b\n.\n4:\nLet\n|\nx\ni\n|\n(\n|\ny\ni\n|\n|x_{i}|(|y_{i}|\n) denote the distance of point\nx\ni\n​\n(\ny\ni\n)\nx_{i}(y_{i})\nfrom\no\no\n. We have that\n|\nx\ni\n+\n1\n|\n>\n|\nx\ni\n|\n|x_{i+1}|>|x_{i}|\nand\n|\ny\ni\n+\n1\n|\n>\n|\ny\ni\n|\n|y_{i+1}|>|y_{i}|\n.\n5:\nwhile\nnot all requests in\nℛ\n\\mathcal{R}\nare served\ndo\n6:\nvisit\nP\n​\nR\n​\nE\n​\nD\n​\n_\n​\nT\n​\nO\n​\nU\n​\nR\nPRED\\_TOUR\nin roundtrips\nR\n​\nT\nj\n,\nj\n≥\n1\nRT_{j},j\\geq 1\n, with each round trip starting from and ending at\no\no\n.\n7:\nend\nwhile\nAlgorithm 2\nAlgorithm in line\nℒ\n\\mathcal{L}\nwith perfect predictions\n5.1\nLine Algorithm with Perfect Predictions\nOur algorithm\nO\n​\nN\nON\nis outlined in Algorithm\n2\n.\nLet\n{\np\n1\nl\n​\no\n​\nc\n,\np\n2\nl\n​\no\n​\nc\n,\n…\n,\np\nn\nl\n​\no\n​\nc\n}\n\\{p_{1}^{loc},p_{2}^{loc},\\ldots,p_{n}^{loc}\\}\nbe the predicted locations of the\nn\nn\nrequests in\nℛ\n\\mathcal{R}\n.\nWe run\nA\n​\nF\n​\nR\n​\nA\n​\nT\n​\nI\n​\n_\n​\nA\n​\nL\n​\nG\nAFRATI\\_ALG\non the predicted locations and compute a tour (Fig.\n3\n) which we call\nP\n​\nR\n​\nE\n​\nD\n​\n_\n​\nT\n​\nO\n​\nU\n​\nR\n:=\n{\no\n,\nx\n1\n,\ny\n1\n,\nx\n2\n,\ny\n2\n,\n…\n,\nx\nm\n,\ny\nm\n′\n}\nPRED\\_TOUR:=\\{o,x_{1},y_{1},x_{2},y_{2},\\ldots,x_{m},y_{m^{\\prime}}\\}\n, where\nx\ni\n,\ny\ni\n,\ni\n≥\n1\nx_{i},y_{i},i\\geq 1\nare the points on\nℒ\nl\n​\ne\n​\nf\n​\nt\n\\mathcal{L}_{left}\nand\nℒ\nr\n​\ni\n​\ng\n​\nh\n​\nt\n\\mathcal{L}_{right}\n, respectively, on which the tour changes direction. (Note that we assume first direction is\nl\n​\ne\n​\nf\n​\nt\nleft\nfrom\no\no\n; the case of first direction\nr\n​\ni\n​\ng\n​\nh\n​\nt\nright\nis analogous.)\nP\n​\nR\n​\nE\n​\nD\n​\n_\n​\nT\n​\nO\n​\nU\n​\nR\nPRED\\_TOUR\nis now visited in round-trips like Algorithm\n1\n. At some round trip\nR\n​\nT\nk\nRT_{k}\n, there is no request remains to be served and at that time Algorithm\n2\nstops.\nWe now analyze Algorithm\n2\nfor its correctness and competitive ratio guarantees. Correctness means that eventually all requests in\nℛ\n\\mathcal{R}\nare served. We need some observations.\nObservation 1\n.\nConsider two consecutive segments\n[\nx\ni\n,\ny\ni\n]\n[x_{i},y_{i}]\nand\n[\ny\ni\n,\nx\ni\n+\n1\n]\n[y_{i},x_{i+1}]\nwith\ni\n≥\n1\ni\\geq 1\n(or\n[\ny\nj\n,\nx\nj\n+\n1\n]\n[y_{j},x_{j+1}]\nand\n[\nx\nj\n+\n1\n,\ny\nj\n+\n1\n]\n[x_{j+1},y_{j+1}]\nwith\nj\n≥\n0\nj\\geq 0\nand\ny\nj\n=\no\ny_{j}=o\nfor the first segment\n[\no\n,\nx\n1\n]\n[o,x_{1}]\n) of\nP\n​\nR\n​\nE\n​\nD\n​\n_\n​\nT\n​\nO\n​\nU\n​\nR\nPRED\\_TOUR\n. The length of the segment\n|\ny\ni\n​\nx\ni\n+\n1\n|\n>\n|\nx\ni\n​\ny\ni\n|\n|y_{i}x_{i+1}|>|x_{i}y_{i}|\n(or\n|\nx\nj\n+\n1\n​\ny\nj\n+\n1\n|\n>\n|\ny\nj\n​\nx\nj\n+\n1\n|\n|x_{j+1}y_{j+1}|>|y_{j}x_{j+1}|\n.\nObservation 2\n.\nConsider two consecutive segments\n[\nx\ni\n,\ny\ni\n]\n[x_{i},y_{i}]\nand\n[\ny\ni\n,\nx\ni\n+\n1\n]\n[y_{i},x_{i+1}]\nwith\ni\n≥\n1\ni\\geq 1\n(or\n[\ny\nj\n,\nx\nj\n+\n1\n]\n[y_{j},x_{j+1}]\nand\n[\nx\nj\n+\n1\n,\ny\nj\n+\n1\n]\n[x_{j+1},y_{j+1}]\nwith\nj\n≥\n0\nj\\geq 0\nand\ny\nj\n=\no\ny_{j}=o\nfor the first segment\n[\no\n,\nx\n1\n]\n[o,x_{1}]\n) of\nP\n​\nR\n​\nE\n​\nD\n​\n_\n​\nT\n​\nO\n​\nU\n​\nR\nPRED\\_TOUR\n. Segment\n[\ny\ni\n,\nx\ni\n+\n1\n]\n[y_{i},x_{i+1}]\nsubsumes segment\n[\nx\ni\n,\ny\ni\n]\n[x_{i},y_{i}]\n, meaning that\n[\nx\ni\n,\ny\ni\n]\n[x_{i},y_{i}]\nis completely contained in\n[\ny\ni\n,\nx\ni\n+\n1\n]\n[y_{i},x_{i+1}]\n(same for\n[\ny\nj\n,\nx\nj\n+\n1\n]\n[y_{j},x_{j+1}]\nand\n[\nx\nj\n+\n1\n,\ny\nj\n+\n1\n]\n[x_{j+1},y_{j+1}]\n).\nObservation 3\n.\nThe origin\no\no\nis contained in each segment\n[\nx\ni\n,\ny\ni\n]\n[x_{i},y_{i}]\nand\n[\ny\ni\n,\nx\ni\n+\n1\n]\n[y_{i},x_{i+1}]\nof\nP\n​\nR\n​\nE\n​\nD\n​\n_\n​\nT\n​\nO\n​\nU\n​\nR\nPRED\\_TOUR\n.\nTheorem 4\n.\nAlgorithm\n2\ncorrectly serves all the predicted requests in\nℛ\n\\mathcal{R}\non a line\nℒ\n\\mathcal{L}\nsolving online TRP.\nProof.\nFrom Observations 1, 2, and 3, we have that in each subsequent segment, Algorithm\n2\ntraverses more length of\nℒ\n\\mathcal{L}\nthan the length covered in the previous segment. Furthermore, Algorithm\n2\ndoes not terminate before both endpoints\na\n,\nb\na,b\nof\nℒ\n\\mathcal{L}\nare visited. If there are still requests in\nℛ\n\\mathcal{R}\nremain to be served, Algorithm\n2\nround trips between\na\na\nand\nb\nb\nuntil all requests in\nℛ\n\\mathcal{R}\nare served. ∎\nWe now analyze Algorithm\n2\nfor its competitive ratio.\nObservation 4\n.\nSuppose each request\nr\ni\nr_{i}\npredicted to arrive at\np\nl\n​\no\n​\nc\ni\np^{i}_{loc}\nis released at time\n0\nwith no prediction error, traversing\nP\n​\nR\n​\nE\n​\nD\n​\n_\n​\nT\n​\nO\n​\nU\n​\nR\nPRED\\_TOUR\nonly once optimally serves TRP (i.e., competitive ratio 1).\nTheorem 5\n.\nAlgorithm\n2\nis\n2\n+\n3\n2+\\sqrt{3}\n-competitive for online TRP on\nℒ\n\\mathcal{L}\nin the prediction model with perfect predictions.\nProof.\nConsider\nP\n​\nR\n​\nE\n​\nD\n​\n_\n​\nT\n​\nO\n​\nU\n​\nR\nPRED\\_TOUR\nas a half-line\nℒ\n\\mathcal{L}\nas shown in Fig.\n4\n. Like half-line\nℒ\n\\mathcal{L}\n, following\nP\n​\nR\n​\nE\n​\nD\n​\n_\n​\nT\n​\nO\n​\nU\n​\nR\nPRED\\_TOUR\nis optimal even for offline TRP since the predictions are perfect and requests arrive at those locations.\nIn the offine TRP, there is no request to serve in\nP\n​\nR\n​\nE\n​\nD\n​\n_\n​\nT\n​\nO\n​\nU\n​\nR\nPRED\\_TOUR\nbetween its two consecutive bold intervals (Fig.\n4\n. In online TRP, there may be requests arriving at time steps such that they need to be served. However, those requests are served when the server traversing currently right (or left) direction changes the direction to traverse left (or right) before it changes again to right (or left).\nTherefore, the competitive ratio of Algorithm\n1\non the half-line\nℒ\n\\mathcal{L}\nextends to\nP\n​\nR\n​\nE\n​\nD\n​\n_\n​\nT\n​\nO\n​\nU\n​\nR\nPRED\\_TOUR\ngiving the same\n2\n+\n3\n2+\\sqrt{3}\ncompetitive ratio for online TRP on a line.\n∎\n6\nmin\n⁡\n{\n2\n+\n3\n+\n4\n​\nδ\n,\n4\n}\n\\min\\{2+\\sqrt{3}+4\\delta,4\\}\n-Competitive Algorithm on a Line with Imperfect Predictions\nWe assume that\nΔ\n\\Delta\nis known.\n|\nℒ\n|\n|\\mathcal{L}|\nis known since\nℒ\n\\mathcal{L}\nis known. If\nΔ\n≥\n0.067\n​\n|\nℒ\n|\n\\Delta\\geq 0.067|\\mathcal{L}|\n(i.e.,\nδ\n≥\n0.067\n\\delta\\geq 0.067\n), we run the algorithm of\nBienkowski\net al.\n(\n2021\n)\nin the original model. However, if\nΔ\n<\n0.067\n​\n|\nℒ\n|\n\\Delta<0.067|\\mathcal{L}|\n(i.e.,\nδ\n<\n0.067\n)\n\\delta<0.067)\n, we modify Algorithm\n2\nas follows.\nGiven the predicted locations\n{\np\n1\nl\n​\no\n​\nc\n,\np\n2\nl\n​\no\n​\nc\n,\n…\n,\np\nn\nl\n​\no\n​\nc\n}\n\\{p_{1}^{loc},p_{2}^{loc},\\ldots,p_{n}^{loc}\\}\n, we get new predicted locations\n{\np\n^\n1\nl\n​\no\n​\nc\n,\np\n^\n2\nl\n​\no\n​\nc\n,\n…\n,\np\n^\nn\nl\n​\no\n​\nc\n}\n\\{\\hat{p}_{1}^{loc},\\hat{p}_{2}^{loc},\\ldots,\\hat{p}_{n}^{loc}\\}\nsetting\np\n^\ni\nl\n​\no\n​\nc\n=\np\ni\nl\n​\no\n​\nc\n−\nΔ\n\\hat{p}_{i}^{loc}=p_{i}^{loc}-\\Delta\n. We then use\nA\n​\nF\n​\nR\n​\nA\n​\nT\n​\nI\n​\n_\n​\nA\n​\nL\n​\nG\nAFRATI\\_ALG\nand compute\nP\n​\nR\n​\nE\n​\nD\n​\n_\n​\nT\n​\nO\n​\nU\n​\nR\n′\nPRED\\_TOUR^{\\prime}\nof locations\n{\np\n^\n1\nl\n​\no\n​\nc\n,\np\n^\n2\nl\n​\no\n​\nc\n,\n…\n,\np\n^\nn\nl\n​\no\n​\nc\n}\n\\{\\hat{p}_{1}^{loc},\\hat{p}_{2}^{loc},\\ldots,\\hat{p}_{n}^{loc}\\}\n.\nWe have the following observation for\nP\n​\nR\n​\nE\n​\nD\n​\n_\n​\nT\n​\nO\n​\nU\n​\nR\n′\nPRED\\_TOUR^{\\prime}\n.\nObservation 5\n.\nThere does not exist any other solution which gives better sum of completion times than\nP\n​\nR\n​\nE\n​\nD\n​\n_\n​\nT\n​\nO\n​\nU\n​\nR\n′\nPRED\\_TOUR^{\\prime}\non a line with predictor error\nΔ\n\\Delta\n.\nSince we have error\nΔ\n\\Delta\n, we modify the tour\nP\n​\nR\n​\nE\n​\nD\n​\n_\n​\nT\n​\nO\n​\nU\n​\nR\n′\nPRED\\_TOUR^{\\prime}\nto obtain\nP\n​\nR\n​\nE\n​\nD\n​\n_\n​\nT\n​\nO\n​\nU\n​\nR\n′′\nPRED\\_TOUR^{\\prime\\prime}\n. We then run Algorithm\n2\non\nP\n​\nR\n​\nE\n​\nD\n​\n_\n​\nT\n​\nO\n​\nU\n​\nR\n′′\nPRED\\_TOUR^{\\prime\\prime}\nwith error\nΔ\n\\Delta\n.\nLet\n{\no\n,\nx\n1\n,\ny\n1\n,\nx\n2\n,\ny\n2\n,\n…\n,\nx\nm\n,\ny\nm\n′\n}\n\\{o,x_{1},y_{1},x_{2},y_{2},\\ldots,x_{m},y_{m^{\\prime}}\\}\nbe\nP\n​\nR\n​\nE\n​\nD\n​\n_\n​\nT\n​\nO\n​\nU\n​\nR\n′\nPRED\\_TOUR^{\\prime}\nsuch that\nx\ni\n,\ny\ni\nx_{i},y_{i}\nare the points at which it changes direction. Except\no\no\n, we shift each point\nx\ni\n,\ny\ni\nx_{i},y_{i}\nin\nP\n​\nR\n​\nE\n​\nD\n​\n_\n​\nT\n​\nO\n​\nU\n​\nR\n′\nPRED\\_TOUR^{\\prime}\nadding\n2\n​\nΔ\n2\\Delta\n. Doing so, there might be less turning points in\nP\n​\nR\n​\nE\n​\nD\n​\n_\n​\nT\n​\nO\n​\nU\n​\nR\n′′\nPRED\\_TOUR^{\\prime\\prime}\nthan\nP\n​\nR\n​\nE\n​\nD\n​\n_\n​\nT\n​\nO\n​\nU\n​\nR\n′\nPRED\\_TOUR^{\\prime}\nbut it will not affect our our algorithm.\nWe then visit\nP\n​\nR\n​\nE\n​\nD\n​\n_\n​\nT\n​\nO\n​\nU\n​\nR\n′′\nPRED\\_TOUR^{\\prime\\prime}\nlike Algorithm\n2\nin round-trips with each round-trip length as follows:\nthe first round-trip\nR\n​\nT\n1\nRT_{1}\nis of length\n2\n+\n2\n​\nα\n+\n4\n​\nΔ\n2+2\\alpha+4\\Delta\nand for\nj\n≥\n2\nj\\geq 2\n,\n|\nR\n​\nT\nj\n|\n=\n(\n2\n+\n2\n​\nα\n)\nj\n−\n1\n​\n(\n1\n+\n2\n​\nα\n)\n+\n4\n​\nΔ\n|RT_{j}|=(2+2\\alpha)^{j-1}(1+2\\alpha)+4\\Delta\n. Fig.\n5\nprovides an illustration of the adjusted round-trips given\nΔ\n\\Delta\n. The correctness is immediate as in Algorithm\n2\n. We prove the following theorem for the competitive ratio guarantee.\nFigure 5:\nAn illustration of how round-trips in Fig.\n2\nare adjusted to accommodate error\nΔ\n\\Delta\nin predicted locations.\nTheorem 6\n.\nAlgorithm\n2\nmodified with\nΔ\n\\Delta\nis\nmin\n⁡\n{\n2\n+\n3\n+\n4\n​\nδ\n,\n4\n}\n\\min\\{2+\\sqrt{3}+4\\delta,4\\}\n-competitive for online TRP on a line\nℒ\n\\mathcal{L}\n, where\nδ\n=\nΔ\n|\nL\n|\n\\delta=\\frac{\\Delta}{|L|}\n.\nProof.\nFor\nΔ\n≥\n0.067\n​\n|\nℒ\n|\n\\Delta\\geq 0.067|\\mathcal{L}|\n(\nδ\n≥\n0.067\n\\delta\\geq 0.067\n), 4-competitive ratio is obtained by the algorithm of\nBienkowski\net al.\n(\n2021\n)\n.\nFor\nΔ\n<\n0.067\n​\n|\nℒ\n|\n\\Delta<0.067|\\mathcal{L}|\n(\nδ\n<\n0.067\n\\delta<0.067\n), our analysis of Algorithm\n2\nwith error\nΔ\n\\Delta\nis as follows.\nConsider a request\nr\ni\n=\n(\np\ni\n,\nt\ni\n)\nr_{i}=(p_{i},t_{i})\n. Let\n|\nP\n​\nR\n​\nE\n​\nD\n​\n_\n​\nT\n​\nO\n​\nU\n​\nR\ni\n′′\n|\n|PRED\\_TOUR^{\\prime\\prime}_{i}|\nbe the length of\nP\n​\nR\n​\nE\n​\nD\n​\n_\n​\nT\n​\nO\n​\nU\n​\nR\n′′\nPRED\\_TOUR^{\\prime\\prime}\nstarting from\no\no\nthat visits\np\ni\np_{i}\nfor the first time. Let\n|\nP\n​\nR\n​\nE\n​\nD\n​\n_\n​\nT\n​\nO\n​\nU\n​\nR\ni\n′\n|\n|PRED\\_TOUR^{\\prime}_{i}|\nbe the length of\nP\n​\nR\n​\nE\n​\nD\n​\n_\n​\nT\n​\nO\n​\nU\n​\nR\n′\nPRED\\_TOUR^{\\prime}\nstarting from\no\no\nthat visits\np\ni\np_{i}\nfor the first time.\nWe have two cases depending on whether\n|\nP\n​\nR\n​\nE\n​\nD\n​\n_\n​\nT\n​\nO\n​\nU\n​\nR\ni\n′\n|\n≥\nt\ni\n|PRED\\_TOUR^{\\prime}_{i}|\\geq t_{i}\nor\n|\nP\n​\nR\n​\nE\n​\nD\n​\n_\n​\nT\n​\nO\n​\nU\n​\nR\ni\n′\n|\n<\nt\ni\n|PRED\\_TOUR^{\\prime}_{i}|<t_{i}\n. Let\nr\ni\nr_{i}\nbe visited for the first time in\nR\n​\nT\nk\n,\nk\n≥\n1\nRT_{k},k\\geq 1\n.\n•\nCase 1:\n|\nP\n​\nR\n​\nE\n​\nD\n​\n_\n​\nT\n​\nO\n​\nU\n​\nR\ni\n′\n|\n≥\nt\ni\n|PRED\\_TOUR^{\\prime}_{i}|\\geq t_{i}\n. According to the analysis analogous to Theorem\n2\n,\nO\n​\nN\n​\n(\nr\ni\n)\n≤\n|\nP\n​\nR\n​\nE\n​\nD\n​\n_\n​\nT\n​\nO\n​\nU\n​\nR\ni\n′\n|\n+\n(\n2\n+\n2\n​\nα\n)\nk\n−\n1\n+\n(\nk\n−\n1\n)\n​\n4\n​\nΔ\n,\nON(r_{i})\\leq|PRED\\_TOUR^{\\prime}_{i}|+(2+2\\alpha)^{k-1}+(k-1)4\\Delta,\nif when\np\ni\np_{i}\nis visited for the first time in\nR\n​\nT\nk\nRT_{k}\n.\nAdditionally,\n|\nP\n​\nR\n​\nE\n​\nD\n​\n_\n​\nT\n​\nO\n​\nU\n​\nR\ni\n′\n|\n≥\n(\n2\n+\n2\n​\nα\n)\nk\n−\n2\n​\n(\n1\n+\n2\n​\nα\n)\n2\n|PRED\\_TOUR^{\\prime}_{i}|\\geq\\frac{(2+2\\alpha)^{k-2}(1+2\\alpha)}{2}\nwhen\np\ni\np_{i}\nis visited for the first time in\nR\n​\nT\nk\nRT_{k}\n.\nTherefore,\nO\n​\nN\n​\n(\nr\ni\n)\nO\n​\nP\n​\nT\n​\n(\nr\ni\n)\n=\n(\n2\n+\n2\n​\nα\n)\nk\n−\n2\n​\n(\n1\n+\n2\n​\nα\n)\n2\n+\n(\n2\n+\n2\n​\nα\n)\nk\n−\n1\n+\n(\nk\n−\n1\n)\n​\n4\n​\nΔ\n(\n2\n+\n2\n​\nα\n)\nk\n−\n2\n​\n(\n1\n+\n2\n​\nα\n)\n2\n,\n\\frac{ON(r_{i})}{OPT(r_{i})}=\\frac{\\frac{(2+2\\alpha)^{k-2}(1+2\\alpha)}{2}+(2+2\\alpha)^{k-1}+(k-1)4\\Delta}{\\frac{(2+2\\alpha)^{k-2}(1+2\\alpha)}{2}},\nwhich reduces to\nO\n​\nN\n​\n(\nr\ni\n)\nO\n​\nP\n​\nT\n​\n(\nr\ni\n)\n=\n5\n+\n6\n​\nα\n1\n+\n2\n​\nα\n+\n(\nk\n−\n1\n)\n​\n8\n​\nΔ\n(\n2\n+\n2\n​\nα\n)\nk\n−\n2\n​\n(\n1\n+\n2\n​\nα\n)\n.\n\\frac{ON(r_{i})}{OPT(r_{i})}=\\frac{5+6\\alpha}{1+2\\alpha}+\\frac{(k-1)8\\Delta}{(2+2\\alpha)^{k-2}(1+2\\alpha)}.\n•\nCase 2:\n|\nP\n​\nR\n​\nE\n​\nD\n​\n_\n​\nT\n​\nO\n​\nU\n​\nR\ni\n′\n|\n<\nt\ni\n|PRED\\_TOUR^{\\prime}_{i}|<t_{i}\n.\nAs in Theorem\n2\n,\nif\nr\ni\nr_{i}\n’s location is in on the segment of\nℒ\n\\mathcal{L}\nvisited by\nP\n​\nR\n​\nE\n​\nD\n​\n_\n​\nT\n​\nO\n​\nU\n​\nR\ni\n′\nPRED\\_TOUR^{\\prime}_{i}\n,\nO\n​\nN\n​\n(\nr\ni\n)\nO\n​\nP\n​\nT\n​\n(\nr\ni\n)\n=\n2\n+\n2\n​\nα\n+\n4\n​\nΔ\n.\n\\frac{ON(r_{i})}{OPT(r_{i})}=2+2\\alpha+4\\Delta.\nIf\n|\nP\n​\nR\n​\nE\n​\nD\n​\n_\n​\nT\n​\nO\n​\nU\n​\nR\ni\n′\n|\n≥\nt\ni\n|PRED\\_TOUR^{\\prime}_{i}|\\geq t_{i}\n, then Case 1 applies as in Theorem\n2\nwhich is\nO\n​\nN\n​\n(\nr\ni\n)\nO\n​\nP\n​\nT\n​\n(\nr\ni\n)\n=\n5\n+\n6\n​\nα\n1\n+\n2\n​\nα\n+\n(\nk\n−\n1\n)\n​\n8\n​\nΔ\n(\n2\n+\n2\n​\nα\n)\nk\n−\n2\n​\n(\n1\n+\n2\n​\nα\n)\n.\n\\frac{ON(r_{i})}{OPT(r_{i})}=\\frac{5+6\\alpha}{1+2\\alpha}+\\frac{(k-1)8\\Delta}{(2+2\\alpha)^{k-2}(1+2\\alpha)}.\nCombining the competitive ratios for Cases 1 and 2,\nO\n​\nN\n​\n(\nr\ni\n)\nO\n​\nP\n​\nT\n​\n(\nr\ni\n)\n=\nmax\n⁡\n{\n2\n+\n2\n​\nα\n+\n4\n​\nΔ\n,\n5\n+\n6\n​\nα\n1\n+\n2\n​\nα\n+\n(\nk\n−\n1\n)\n​\n8\n​\nΔ\n(\n2\n+\n2\n​\nα\n)\nk\n−\n2\n​\n(\n1\n+\n2\n​\nα\n)\n}\n.\n\\frac{ON(r_{i})}{OPT(r_{i})}=\\max\\{2+2\\alpha+4\\Delta,\\frac{5+6\\alpha}{1+2\\alpha}+\\frac{(k-1)8\\Delta}{(2+2\\alpha)^{k-2}(1+2\\alpha)}\\}.\nSetting\nα\n=\n3\n2\n\\alpha=\\frac{\\sqrt{3}}{2}\n, for any\nk\n≥\n1\nk\\geq 1\n,\n(\nk\n−\n1\n)\n​\n8\n​\nΔ\n(\n2\n+\n2\n​\nα\n)\nk\n−\n2\n​\n(\n1\n+\n2\n​\nα\n)\n≤\n8\n1\n+\n3\n​\nΔ\n<\n4\n​\nΔ\n.\n\\frac{(k-1)8\\Delta}{(2+2\\alpha)^{k-2}(1+2\\alpha)}\\leq\\frac{8}{1+\\sqrt{3}}\\Delta<4\\Delta.\nTherefore, since\nδ\n=\nΔ\n|\nℒ\n|\n\\delta=\\frac{\\Delta}{|\\mathcal{L}|}\n,\nO\n​\nN\n​\n(\nr\ni\n)\nO\n​\nP\n​\nT\n​\n(\nr\ni\n)\n=\n2\n+\n3\n+\n4\n​\nδ\n.\n\\frac{ON(r_{i})}{OPT(r_{i})}=2+\\sqrt{3}+4\\delta.\nWe have the claimed bound since if\nthe algorithm of\nBienkowski\net al.\n(\n2021\n)\nis applied, Algorithm\n2\nis not applied (and vice-versa).\n∎\n7\nConcluding Remarks\nIn this paper, we have studied online TRP in the prediction model and established a\nmin\n⁡\n{\n3.732\n+\n4\n​\nδ\n,\n4\n}\n\\min\\{3.732+4\\delta,4\\}\n-competitive deterministic algorithm, with any error\n0\n≤\nδ\n≤\n1\n0\\leq\\delta\\leq 1\n, which is an improvement compared to the state-of-the-art deterministic bound of 4 in the original model. We also established a lower bound of 3 improving on the state-of-the-art\n1\n+\n2\n1+\\sqrt{2}\n. For future work, it would be interesting to extend the competitive ratio to any metric satisfying triangle inequality (not just line). It would also be interesting to establish stronger lower bound. Finally, it would be interesting to remove the knowledge of\nδ\n\\delta\nfrom our algorithm, consider other appropriate prediction models, and perform experimental evaluation.\nReferences\nF. Afrati, S. Cosmadakis, C. H. Papadimitriou, G. Papageorgiou, and N. Papakostantinou (1986)\nThe complexity of the travelling repairman problem\n.\nRAIRO-Theoretical Informatics and Applications\n20\n(\n1\n),\npp. 79–87\n.\nCited by:\n§5\n,\n§5\n,\n§5\n,\nTheorem 3\n.\nM. Bienkowski, A. Kraska, and H. Liu (2021)\nTraveling repairperson, unrelated machines, and other stories about average completion times\n.\nIn\nICALP\n,\nLIPIcs\n, Vol.\n198\n,\npp. 28:1–28:20\n.\nCited by:\n§1\n,\nTable 3\n,\n§6\n,\n§6\n,\n§6\n.\nM. Bienkowski and H. Liu (2019)\nAn improved online algorithm for the traveling repairperson problem on a line\n.\nIn\nMFCS\n,\nP. Rossmanith, P. Heggernes, and J. Katoen (Eds.)\n,\nLIPIcs\n, Vol.\n138\n,\npp. 6:1–6:12\n.\nCited by:\n§1\n,\nTable 3\n.\nA. Borodin and R. El-Yaniv (1998)\nOnline computation and competitive analysis\n.\nCambridge University Press\n.\nExternal Links:\nISBN 978-0-521-56392-5\nCited by:\n§2\n.\nE. Feuerstein and L. Stougie (2001)\nOn-line single-server dial-a-ride problems\n.\nTheoretical Computer Science\n268\n(\n1\n),\npp. 91–105\n.\nCited by:\nTable 2\n,\n§1\n,\n§1\n,\nTable 3\n,\n§3\n.\nT. Gouleakis, K. Lakis, and G. Shahkarami (2023)\nLearning-augmented algorithms for online TSP on the line\n.\nIn\nAAAI\n,\nB. Williams, Y. Chen, and J. Neville (Eds.)\n,\npp. 11989–11996\n.\nCited by:\n§1\n,\n§1\n.\nD. Hwang and P. Jaillet (2017)\nOnline scheduling with multi-state machines\n.\nNetworks\n71\n,\npp.\n.\nCited by:\n§1\n,\nTable 3\n.\nS. O. Krumke, W. de Paepe, D. Poensgen, and L. Stougie (2003)\nNews from the online traveling repairman\n.\nTheor. Comput. Sci.\n295\n,\npp. 279–294\n.\nCited by:\n§1\n,\nTable 3\n.\nR. Kumar, M. Purohit, and Z. Svitkina (2018)\nImproving online algorithms via ml predictions\n.\nIn\nNeurIPS\n,\nRed Hook, NY, USA\n,\npp. 9684–9693\n.\nCited by:\n§1\n.\nT. Lykouris and S. Vassilvitskii (2018)\nCompetitive caching with machine learned advice\n.\nIn\nICML\n,\nJ. G. Dy and A. Krause (Eds.)\n,\nVol.\n80\n,\npp. 3302–3311\n.\nExternal Links:\nLink\nCited by:\n§1\n.\nD. Rohatgi (2020)\nNear-optimal bounds for online caching with machine learned advice\n.\nIn\nSODA\n,\nUSA\n,\npp. 1834–1845\n.\nCited by:\n§1\n.",
    "preview_text": "We study the online traveling repairperson problem on a line within the recently proposed learning-augmented framework, which provides predictions on the requests to be served via machine learning. In the original model (with no predictions), there is a stream of requests released over time along the line. The goal is to minimize the sum (or average) of the completion times of the requests. In the original model, the state-of-the-art competitive ratio lower bound is $1+\\sqrt{2} > 2.414$ for any deterministic algorithm and the state-of-the-art competitive ratio upper bound is 4 for a deterministic algorithm. Our prediction model involves predicted positions, possibly error-prone, of each request in the stream known a priori but the arrival times of requests are not known until their arrival. We first establish a 3-competitive lower bound which extends to the original model. We then design a deterministic algorithm that is $(2+\\sqrt{3})\\approx 3.732$-competitive when predictions are perfect. With imperfect predictions (maximum error $δ> 0$), we show that our deterministic algorithm becomes $\\min\\{3.732+4δ,4\\}$-competitive, knowing $δ$. To the best of our knowledge, these are the first results for online traveling repairperson problem in the learning-augmented framework.\n\nLearning-Augmented Online TRP on a Line\nSwapnil Guragain and Gokarna Sharma\nKent State University\n{sguragai, gsharma2}@kent.edu\nAbstract\nWe study the online traveling repairperson problem on a line within the recently proposed learning-augmented framework, which provides predictions on the requests to be served via machine learning. In the original model (with no predictions), there is a stream of requests released over time along the line. The goal is to minimize the sum (or average) of the completion times of the requests.\nIn the original model, the state-of-the-art competitive ratio lower bound is\n1\n+\n2\n>\n2.414\n1+\\sqrt{2}>2.414\nfor any deterministic algorithm and the state-of-the-art competitive ra",
    "is_relevant": false,
    "relevance_score": 0.0,
    "extracted_keywords": [
        "online algorithm",
        "competitive analysis",
        "learning-augmented framework",
        "traveling repairperson problem",
        "deterministic algorithm"
    ],
    "one_line_summary": "这篇论文研究在线旅行维修员问题，结合机器学习预测来改进算法性能，与强化学习、扩散模型、机器人控制等关键词无关。",
    "detailed_summary": "",
    "qa_pairs": [],
    "is_hidden": false,
    "is_starred": false,
    "flag": true,
    "published_date": "2026-01-20T01:10:02Z",
    "created_at": "2026-01-27T15:53:05.269040",
    "updated_at": "2026-01-27T15:53:05.269048",
    "recommend": 0
}